<!doctype html><html lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Financial | 技术博客</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel=stylesheet><style>:root{--nav-height:60px;--toc-width:280px;--content-padding:40px;--primary-color:#3498db;--text-color:#333;--light-gray:#f5f5f5;--border-color:#eaeaea}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,sans-serif;color:var(--text-color);line-height:1.6;padding-top:var(--nav-height);overflow-x:hidden}.top-nav{position:fixed;top:0;left:0;right:0;height:var(--nav-height);background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.1);display:flex;align-items:center;padding:0 30px;z-index:1000}.nav-container{width:100%;max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.site-title{font-size:1.4rem;font-weight:700;color:var(--primary-color);text-decoration:none}.nav-links{display:flex;gap:25px}.nav-links a{color:var(--text-color);text-decoration:none;font-size:1rem;transition:color .3s}.nav-links a:hover{color:var(--primary-color)}.main-container{display:flex;max-width:1400px;margin:0 auto;padding:20px}.toc-container{position:sticky;top:calc(var(--nav-height) + 20px);align-self:flex-start;width:var(--toc-width);padding:20px;margin-right:30px;max-height:calc(100vh - var(--nav-height) - 40px);overflow-y:auto;background:var(--light-gray);border-radius:8px;scroll-behavior:auto;overscroll-behavior:contain}.toc-title{font-size:1.2rem;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid var(--primary-color)}.toc ul{list-style:none;padding-left:15px}.toc li{margin-bottom:8px;position:relative}.toc a{color:var(--text-color);text-decoration:none;display:block;padding:5px 0 5px 10px;transition:all .2s;font-size:.95rem;border-left:2px solid transparent}.toc a:hover{color:var(--primary-color);transform:translateX(5px)}.toc a.active{color:var(--primary-color);font-weight:700;border-left:3px solid var(--primary-color);background:rgba(52,152,219,5%);transform:translateX(5px)}.content-container{flex:1;background:#fff;padding:var(--content-padding);border-radius:8px;box-shadow:0 2px 15px rgba(0,0,0,5%)}.article-header{margin-bottom:30px;border-bottom:1px solid var(--border-color);padding-bottom:20px}.article-title{font-size:2rem;margin-bottom:10px;color:#2c3e50}.article-meta{display:flex;gap:20px;color:#7f8c8d;font-size:.9rem;margin-bottom:15px}.article-content{line-height:1.8}.article-content h2{font-size:1.6rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color);scroll-margin-top:calc(var(--nav-height) + 20px)}.article-content h3{font-size:1.3rem;margin:1.5rem 0 .8rem;scroll-margin-top:calc(var(--nav-height) + 20px)}.article-content img{max-width:100%;height:auto;border-radius:6px;margin:1.5rem 0;box-shadow:0 3px 10px rgba(0,0,0,.1)}.article-content pre{position:relative;background:#f7f7f7;color:#242424;border-left:4px solid #04b04f;border-radius:8px;padding:1.5rem 1rem 1rem;margin:1.5rem 0;overflow:auto;box-shadow:0 1px 3px rgba(0,0,0,.1);max-height:40vh;white-space:pre-wrap;font-family:fira code,Menlo,Monaco,Consolas,monospace;font-size:.9rem;line-height:1.5;scrollbar-width:thin;scrollbar-color:#c4c4c4 #f7f7f7}.article-content code{font-family:inherit;color:inherit !important;background:0 0 !important;padding:0;text-shadow:none !important;font-size:.9rem}.hljs-meta,.hljs-built_in{color:#04b04f}.hljs-attribute{color:#e91e63}.hljs-string{color:#2e7d32}.hljs-number{color:#2196f3}.article-content pre::-webkit-scrollbar{width:12px;height:12px}.article-content pre::-webkit-scrollbar{width:12px;height:12px}.article-content pre::-webkit-scrollbar-thumb{background:#04b04f;opacity:.6;border:3px solid #f7f7f7}.article-content pre::-webkit-scrollbar-track{background:#f7f7f7;border-radius:6px}.copy-code{position:absolute;top:10px;right:15px;background:rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.2);color:#242424;border-radius:4px;padding:3px 8px;font-size:.8rem;cursor:pointer;transition:all .3s;opacity:0;z-index:10}pre:hover .copy-code{opacity:1}.copy-code:hover{background:rgba(0,0,0,.2)}.copy-code.copied{background:#28a745;color:#fff;border-color:#28a745}@media(max-width:1024px){.toc-container{width:240px;padding:15px}.content-container{padding:25px}}@media(max-width:768px){.main-container{flex-direction:column}.toc-container{position:static;width:100%;margin-right:0;margin-bottom:30px;max-height:none}.article-title{font-size:1.8rem}.article-content pre{max-height:50vh;padding-right:10px}}</style></head><body><nav class=top-nav><div class=nav-container><a href=/ class=site-title>技术博客</a><div class=nav-links><a href=/>首页</a>
<a href=/posts/>所有文章</a>
<a href=/categories/>分类</a>
<a href=/tags/>标签</a></div></div></nav><div class=main-container><aside class=toc-container><h3 class=toc-title>目录</h3><div class=toc><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#金融基础知识>金融基础知识</a></li></ul></li></ul></li></ul></nav></div></aside><article class=content-container><header class=article-header><h1 class=article-title>Financial</h1><div class=article-meta><span>📅 2024年2月22日</span></div></header><div class=article-content><h4 id=金融基础知识>金融基础知识</h4><h5 id=货币的基本概念和发展形式>货币的基本概念和发展形式</h5><ul><li><p>货币是一切商品的等价物，充当交换媒介，货币本身也是一种特殊商品。</p></li><li><p>货币经过了实物货币、金属货币（黄金、白银等）、纸币（信用货币）和电子货币几个阶段。</p></li></ul><h5 id=货币的发行>货币的发行</h5><ul><li><p>由国家中央银行统一发行，强制流通</p></li><li><p>流通中需要的货币发行量 = 全社会商品价格总额 / 货币流通速度</p><blockquote><p>全社会商品价格总额就是全社会买卖的所有的商品数量乘以它们各自的价格,货币流通速度就是纸币在买卖者手中的平均转手次数。比如，一年内买卖的商品价格总额是100亿元，一年内纸币平均换手次，那么就需要发行25亿元纸币（100亿元÷4次)。</p></blockquote><blockquote><p>如果货币发行过多,老百姓手中的钱大大超过社会上可供销售的商品的价值,商品价格就会大幅度上涨，产生通货膨胀。通货膨胀严重的时候，物价会飞涨。如果货币发行过少，老百姓手中的钱大大少于社会上可供销售的商品的价值,有可能带来通货紧缩。当出现通货紧缩的时候,物价下跌,企业亏损裁员，工人失业，消费不足,人们的生活陷入困境。所以，货币发行量必须要遵守货币流通规律。</p></blockquote></li></ul><h5 id=货币的流通>货币的流通</h5><ul><li><p>反映货币供应量的三要素</p><ul><li><p>M0： 银行体系之外流通中的现金</p></li><li><p>M1：M0+活期存款（现金+活期存款）</p></li><li><p>M2：M1+定期存款（现金+活期存款+定期存款）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>货币流动性是指各种形式的货币转换成现金的时间和成本。从M0到M1、M2,流动性递减。</span>
</span></span><span class=line><span class=cl><span class=na>1、M0，又叫“现钞”，是指流通于银行体系以外的现钞，也就是居民和企业手中的现钞。M0流动性最强，具有最强的购买力。</span>
</span></span><span class=line><span class=cl><span class=na>2、M1，又叫“狭义货币”,由流通于银行体系以外的现钞(Mo)和银行的活期存款构成。其中活期存款由于随时可以变现(提取),所以流动性和购买力不亚于现钞。M1代表了 一国经济中的现实购买力，因此，对社会经济生活有着最广泛和最直接，许多国家把M1作为调控货币供应量的主要对象。</span>
</span></span><span class=line><span class=cl><span class=na>3、M2,又叫“广义货币”，由流通于银行体系之外的现钞加上活期存款(M1)， 再加上定期存款、储蓄存款等构成。M2包括了一切可能成为现实购买力的货币形式。定期存款、储蓄存款等不能直接变现,所以不能立即转变成现实的购买力,但经过一定的时间和手续后,也能够转变为购买力,因此,它们又叫做“准货币”。由于M2对研究货币流通的整体状况有着重要意义，近年来，很多国家开始把货币供应量的调控目标转向M2。</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>目前中国人民银行公布的货币划分口径是:</span>
</span></span><span class=line><span class=cl><span class=na>M0:流通中现金;</span>
</span></span><span class=line><span class=cl><span class=na>M1: M0 +企业活期存款;</span>
</span></span><span class=line><span class=cl><span class=na>M2: M1 +准货币(定期存款+居民储蓄存款+其他存款)。</span>
</span></span><span class=line><span class=cl><span class=na>我们一般所说的货币，通常主要是指M1,即流通中的现金+企业活期存款。</span>
</span></span></code></pre></div></li></ul></li><li><p>通货膨胀货币供应量增加，资产价格大幅上涨，物价上涨，货币贬值。（和通货膨胀有关的几个关键字：加大投资、负债扩大、泡沫风险、银行坏账增加）</p></li><li><p>通货紧缩</p><blockquote><p>企业会选择压缩生产,大量裁员。当很多企业都这么做的时候，则失业骤增，老百姓的收入下降，需求不足,经济陷入衰退甚至萧条的艰难境地。很多国家历史上都曾发生过不同程度的通货紧缩和经济衰退,甚至引发经济危机和政治危机。通货紧缩绝不是什么大好事，它的危害性比起通货膨胀来一点都不逊色。
通货紧缩常常是由生产过剩、债务危机、经济“泡沫”破裂等实体经济因素引起的。当发生通货紧缩时，商业银行是不愿向企业发放贷款的，因为大部分企业经营困难还不上贷款,甚至会欠账赖账。商业银行宁可收缩贷款，少赚利息，熬一阵子再说。在这种情况下，即使央行采取增加货币供应的措施，也很难立竿见影。这就好像自来水管,末端的水龙头关得死死的，总闸拧得再大也放不出水来。
可见，通货紧缩比通货膨胀更复杂，也更难治理，必须将货币政策、财政政策以及其他措施进行综合搭配，才能有比较好的效果。</p></blockquote></li></ul><h5 id=利率>利率</h5><ul><li><p>货币的价格就是利率</p><blockquote><p>货币(钱)也是一种商品，与其他商品-样,有其自身的价格,这个价格就是利率。作为商品，其价格的根本决定因素，是市场供求关系，利率也不例外。利率水平还受风险程度、贷款期限、借款人的信用状况、市场供求、通货膨胀率以及政策因素等。</p></blockquote><p><img src=images/%E5%88%A9%E7%8E%87%E4%BD%93%E7%B3%BB.jpg alt=img></p></li></ul><blockquote><p>利率是资金使用的价格，利率的涨跌关系着居民、企业、政府各方利益，它是调节宏观经济运行的重要杠杆。如果存款的利率水平较高，人们会把收入储蓄起来等到以后再消费；如果存款的利率很低，人们又会减少储蓄，增加目前的消费，有的甚至会借钱来消费。比如，人们会在银行存贷款利率低的时候买房买车，这就增加了社会需求，而在银行贷款利率上升的时候,为少付利息人们又会尽量把贷款还上，这又减少了社会需求。对企业来说，利率的变化同样事关重大。企业经营要借钱，而利率的高低直接关系到企业的利息负担，贷款利率变动一个百分点，企业有可能因此多付或者少付几百万元的利息。</p></blockquote><blockquote><p><strong>折现率</strong> <strong>把未来的收入折算到等价的现值就是折现</strong>。当我们把未来的钱折算成今天的价值的时候，就需要用到贴现率的概念。比如目前利率是10%，那么今天的100元就相当于明年的110元。为什么呢?因为利率是10%，我们至少可以在今年把这100元货出去，明年拿到110元。反过来说，明年的110元也只能相当于现在的100元。在这里, 10%的利率就是贴现率。贴现率对于企业来说很重要,因为企业在决定是否投资某个项目时，必须算清楚这个项目未来能带来的收入贴现到今天是多少，然后计算能否赚钱。
可见，利率越高，折现后的收人越低，企业预计的投资项目就越有可能亏本;利率越低，则越有可能赚钱。所以，利率降低能够刺激企业增加投资，利率上升就会刺激企业减少投资。对证券市场上的投资者来说，利率的变化直接影响着证券价格。在一般情况下，利率和股票.债券的价格呈反向变化。利率下降,证券价格上涨，利率上升，证券价格下跌。因此，利率的变化与股市的涨跌息息相关</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>折现，将未来收入折算成等价的现值。该过程将一个未来值以一个折现率加以缩减，折现率应恰当地体现利率。
</span></span><span class=line><span class=cl>折现举例，如果某人承诺2年后给你121美元。当时，正常的利率是年率10%。我们可以计算这121美元的现值121/[(1+10%)^2]=100。用以折现未来收入的折扣因子称为折现率。折现率是以每年的利率为基础，进行复利计算。
</span></span><span class=line><span class=cl>贴现是指远期汇票经签发后，汇票持有人在汇票尚未到期前在贴现市场上转让，受让人扣除贴现息后将票款付给出让人的行为或银行购买未到期票据的业务。
</span></span><span class=line><span class=cl>贴现举例，一张汇票票面价值100万，出票日期2月1日，4月1日到期。要求计算贴息和贴现净额。持票人于3月2日到银行进行贴现，贴现率为12%。贴息=100×（30/360）×12%=1万贴现净值=100-1=99万
</span></span><span class=line><span class=cl>贴现是以到期票据面值为基础内扣贴息。
</span></span><span class=line><span class=cl>二者虽然名称近似，是不同的概念，计算方法也不同。
</span></span></code></pre></div><h5 id=汇率>汇率</h5><ul><li>汇率：货币兑换的价格</li></ul><blockquote><p><strong>汇率的表示方法有直接标价法和间接标价法</strong>。比如, 2006年4月20日直接标价法下人民币兑美元的汇率是8.0126元/美元，意思是说这一天1美元可以换8.0126元人民币。2006年4月20间接标价法下人民币对美元的汇率是0.124803美元/元，意思是说这一天1元人民币值0.124803美元。</p><p>我国的外汇报价采用的都是直接标价法，也就是1元外币值多少元人民币的标价方法。在直接标价法下，如果汇率数值增加，意味着1单位的外币值更多的本国货币(本币)了，称为本币贬值，或外币升值。相反则是本币升值或外币贬值。比如，2005 年7月20日人民币兑美元的汇率是1 :8.2765, 7月21日调整为1:8.1100， 说明人民币升值了，美元贬值了。在间接标价法下，情况与此类似。</p></blockquote><blockquote><p>实在对汇率的涨跌记不住的话，举个例子，1美元买8个苹果，再到1美元买9个苹果，美元升值了，苹果贬值了，反之就是美元贬值了,苹果升值了。</p></blockquote><blockquote><p><strong>汇率的升降到底受哪些因素影响呢?</strong></p><ul><li><p>贸易顺差和逆差</p><blockquote><p>进出口的差额是主要因素。出口是把本国的商品或服务卖给外国，是收入外汇(创汇)的过程，进口则是用外汇购买国外的商品或服务，是付出外汇的过程。如果一个国家的商品和服务的出口额比进口额多，出现贸易顺差，相应这个国家挣的外汇就多，花的外汇就少，也就是外汇供给多，需求少，这时，外汇的价格<code>汇率</code>自 然要下跌，该国货币也就相应升值。这几年,我国面临持续的巨额贸易顺差，人民币因此也面临着升值的压力。相反，如果一个国家商品和服务的出口比进口少，出现了贸易逆差，相应挣的外汇少，花的外汇多，外汇供给少，需求多，这时，外币汇率自然会.上升，该国货币可能就不怎么值钱了，面临着贬值。</p></blockquote></li><li><p>资本的流入和流出</p><blockquote><p>资本的流出流人差额也是-个重要因素。道理跟进出口差额类似。当一个国家的资本流入多于资本流出时,这个国家就会出现资本项目顺差，也就是外汇供给多，需求少,外币汇率自然会下跌。相反，如果一个国家的资本流出多于资本流人,这个国家就会出现资本项目逆差，外币汇率就有上升的趋势。</p></blockquote></li><li><p>利率</p><blockquote><p>利率差异也是重要因素。随着世界经济的一体化,各国之间的资本流动越来越自由。如果一个国家的利率比其他国家的利率高,就会有大量的资本涌进来，兑换成这个国家的货币以获取更高的利息,这样，就会推动这个国家的货币升值。反之，如果这个国家的利率比其他国家的利率低，其货币就有贬值。</p></blockquote></li><li><p>通过膨胀率</p><blockquote><p>通货膨胀率的高低也会影响汇率。如果- -个国家的通货膨胀率较高，就意味着这个国家的货币购买力下降，相对于通货膨胀率较低的国家，其货币自然有贬值的压力。反之，如果-一个国家的通货膨胀率比其他国家低，其货币就有升值的趋势。</p></blockquote></li><li><p>政治和经济环境的预期</p><blockquote><p>人们的心理预期也是影响短期汇率波动的重要因素。如果人们认为某个国家的经济发展令人担忧，或者政治局势不稳定，预测其货币不久会贬值，就会纷纷抛售该国货币，结果，该国货币雪上加霜，大幅贬值甚至爆发货币危机。</p></blockquote></li><li><p>政府干预</p><blockquote><p>政府对汇率的干预行为也在很大程度上影响着汇率。比如1985年，美国正承受着高额的财政和贸易赤字，而美元升值又加剧了其贸易赤字，美国就联合西方强国达成了著名的“广场协定”，各国政府联手拿出200亿美元投入外汇市场购买日元，结果美元大幅贬值，日元大幅升值。汇率的走势最终是-一个国家经济发展状况的综合反映,所以从长期来看，如果一个国家经济发展良好，保持持续的繁荣和稳定增长，该国货币的汇率就会趋于稳定。</p></blockquote></li></ul></blockquote><blockquote><p><strong>固定汇率还是浮动汇率</strong>
世界汇率制度的发展，大致经历了由固定汇率制到浮动汇率制的演变过程。在布雷顿森林体系时期，各国约定美元与黄金以固定比价挂钩,各国货币则与美元以固定比价挂钩。也就是说，各国普遍实行固定汇率制度。布雷顿森林体系瓦解后的1976年，各国在牙买加首都金斯敦达成协议，承认浮动汇率制的合法性，建立了新的国际货币体系——牙买加体系。从此，各国货币不再与黄金挂钩，世界上的发达国家都开始实行浮动汇率制度。</p><p>近年来，我国经常项目和资本项目双顺差持续扩大，人民币面临升值趋势。我国政府审时度势,于2005年7月21日宣布进行完善人民币汇率形成机制改革,开始实行以市场供求为基础、参考一篮子货币进行调节、有管理的浮动汇率制度。</p></blockquote><blockquote><p><strong>外汇储备到底是什么?它又能起什么样的作用呢?</strong></p><ul><li>国际支付</li><li>维护汇率稳定</li></ul><p>外汇储备就是各国官方持有的可以自由支配的储备货币。储备货币是指在国际支付时被普遍接受的货币。外汇储备的增加主要来源于国际收支顺差。充足的外汇储备是一国干预外汇市场、维护本币汇率稳定的保障。当外汇市场上出现了大量抛售本币的情况，有可能导致本币贬值时，中央银行或者货币当局可以动用外汇储备，大量买入本币，卖出外汇，缓解本币贬值的压力。香港特别行政区政府正是因为有充足的外汇储备作保障,才赢得了港元保卫战的胜利。
除此以外,外汇储备还有以下重要作用:可以满足进口支付周转。比如，我们进口美国的飞机必须按时支付美元，如果因为种种原因我们出口货物应收的美元没有收到,这时可以动用外汇储备来支付货款进行周转。外汇储备还是偿付外债的保障。偿还国际贷款要支付美元或者其他外币，也需要拥有一定的外汇储备。这是因为，当外债到期时，如果外汇收人达不到借债时的预期收入，从而不能按时偿还外债本息时，就要动用外汇储备来偿还。</p></blockquote><blockquote><p>我国的外汇储备管理</p><p>我国的外汇储备主要投资于国外安全性高、流动性强和收益稳定的证券资产。为了防止因某一种外国货币贬值造成外汇资产损失,我们还需要将外汇资产的投资在各种外币之间进行合理分布。所以，平时我国的外汇储备可获得稳定的收益,当国际收支出现困难时,中央银行可以拿出来弥补逆差。特别是在发生类似亚洲金融危机的情况时,中央银行还可以动用外汇储备干预市场以稳定汇率。很多时候，这一大笔财富仅仅放在那里就能发挥作用，它体现了国家的实力,给人们一种信心一中 央银行有足够强大的力量维护外汇市场和人民币币值的稳定。</p><p>当然，外汇储备太多了也不见得全是好事。中央银行向商业银行购入外汇的同时，也向市场注入了一笔基础货币。<strong>买入的外汇越多，基础货币增加也就越多。基础货币增加太多容易产生通货膨胀,于是中央银行就采取发行票据、出售国债等手段对冲，回收多余的本国货币。但如果购入的外汇数量过多，由于种种原因没有完全对冲,就会造成流动性过剩，增加通货膨胀的压力，不利于国内经济的稳定。</strong></p></blockquote><p>该笔记引用的文本和图片内容多数来自<a href=http://www.pbc.gov.cn/goutongjiaoliu/113456/113466/113489/2889751/index.html>中国人民银行的金融知识国民读本</a></p><hr><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>如果金钱统治世界，那么谁统治金钱？
</span></span><span class=line><span class=cl>答案是:那些有能力制造通货膨胀的人统治着金钱。他们首先借钱购买实物资产，通货膨胀之后，再用贬值的钱来还债。
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>--自己的随笔
</span></span><span class=line><span class=cl>美元脱离了金本位体系之后，货币供应量背后是国家的信用。经济发展从扩张到泡沫风险阶段，大量债务增长，只有通过继续发债来维持经济体系的运行，所以资产价格在高位运行。导致资产价格大幅度增长，货币出现贬值。当泡沫达到了风险值时，那些聪明钱再卖掉资产获取现金，完成货币的收益。
</span></span><span class=line><span class=cl>在适当的机会，通过各种手段让美元回流到美国，其他国家的资产价格回落，甚至出现流动性危机，从金融危机到经济危机，到了一定的时候，再出手购入优质的资产，如此循环。
</span></span></code></pre></div></div></article></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightElement(e);const t=document.createElement("button");t.className="copy-code",t.textContent="Copy",t.addEventListener("click",()=>{navigator.clipboard.writeText(e.textContent).then(()=>{t.textContent="Copied!",t.classList.add("copied"),setTimeout(()=>{t.textContent="Copy",t.classList.remove("copied")},2e3)})}),e.parentElement.prepend(t)});const o=document.querySelectorAll(".article-content h2[id], .article-content h3[id]"),i=document.querySelectorAll('.toc a[href^="#"]'),a=document.querySelector(".top-nav").offsetHeight,n=document.querySelector(".toc-container"),e=[];o.forEach(t=>{e.push({id:t.id,top:t.offsetTop-a-20})});function s(){const s=window.scrollY;let t="";for(let n=e.length-1;n>=0;n--)if(e[n].top<=s+50){t=e[n].id;break}i.forEach(e=>{const s=e.getAttribute("href")===`#${t}`;if(e.classList.toggle("active",s),s){const t=e.offsetTop-n.clientHeight/2;n.scrollTop=t}})}let t=!1;window.addEventListener("scroll",()=>{t||(window.requestAnimationFrame(()=>{s(),t=!1}),t=!0)}),s()})</script></body></html>