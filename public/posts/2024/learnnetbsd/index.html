<!doctype html><html lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>LearnNetBsd | æŠ€æœ¯åšå®¢</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel=stylesheet><style>:root{--nav-height:60px;--toc-width:280px;--content-padding:40px;--primary-color:#3498db;--text-color:#333;--light-gray:#f5f5f5;--border-color:#eaeaea}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,sans-serif;color:var(--text-color);line-height:1.6;padding-top:var(--nav-height);overflow-x:hidden}.top-nav{position:fixed;top:0;left:0;right:0;height:var(--nav-height);background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.1);display:flex;align-items:center;padding:0 30px;z-index:1000}.nav-container{width:100%;max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.site-title{font-size:1.4rem;font-weight:700;color:var(--primary-color);text-decoration:none}.nav-links{display:flex;gap:25px}.nav-links a{color:var(--text-color);text-decoration:none;font-size:1rem;transition:color .3s}.nav-links a:hover{color:var(--primary-color)}.main-container{display:flex;max-width:1400px;margin:0 auto;padding:20px}.toc-container{position:sticky;top:calc(var(--nav-height) + 20px);align-self:flex-start;width:var(--toc-width);padding:20px;margin-right:30px;max-height:calc(100vh - var(--nav-height) - 40px);overflow-y:auto;background:var(--light-gray);border-radius:8px;scroll-behavior:auto;overscroll-behavior:contain}.toc-title{font-size:1.2rem;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid var(--primary-color)}.toc ul{list-style:none;padding-left:15px}.toc li{margin-bottom:8px;position:relative}.toc a{color:var(--text-color);text-decoration:none;display:block;padding:5px 0 5px 10px;transition:all .2s;font-size:.95rem;border-left:2px solid transparent}.toc a:hover{color:var(--primary-color);transform:translateX(5px)}.toc a.active{color:var(--primary-color);font-weight:700;border-left:3px solid var(--primary-color);background:rgba(52,152,219,5%);transform:translateX(5px)}.content-container{flex:1;background:#fff;padding:var(--content-padding);border-radius:8px;box-shadow:0 2px 15px rgba(0,0,0,5%)}.article-header{margin-bottom:30px;border-bottom:1px solid var(--border-color);padding-bottom:20px}.article-title{font-size:2rem;margin-bottom:10px;color:#2c3e50}.article-meta{display:flex;gap:20px;color:#7f8c8d;font-size:.9rem;margin-bottom:15px}.article-content{line-height:1.8}.article-content h2{font-size:1.6rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color);scroll-margin-top:calc(var(--nav-height) + 20px)}.article-content h3{font-size:1.3rem;margin:1.5rem 0 .8rem;scroll-margin-top:calc(var(--nav-height) + 20px)}.article-content img{max-width:100%;height:auto;border-radius:6px;margin:1.5rem 0;box-shadow:0 3px 10px rgba(0,0,0,.1)}.article-content pre{position:relative;background:#f7f7f7;color:#242424;border-left:4px solid #04b04f;border-radius:8px;padding:1.5rem 1rem 1rem;margin:1.5rem 0;overflow:auto;box-shadow:0 1px 3px rgba(0,0,0,.1);max-height:40vh;white-space:pre-wrap;font-family:fira code,Menlo,Monaco,Consolas,monospace;font-size:.9rem;line-height:1.5;scrollbar-width:thin;scrollbar-color:#c4c4c4 #f7f7f7}.article-content code{font-family:inherit;color:inherit !important;background:0 0 !important;padding:0;text-shadow:none !important;font-size:.9rem}.hljs-meta,.hljs-built_in{color:#04b04f}.hljs-attribute{color:#e91e63}.hljs-string{color:#2e7d32}.hljs-number{color:#2196f3}.article-content pre::-webkit-scrollbar{width:12px;height:12px}.article-content pre::-webkit-scrollbar{width:12px;height:12px}.article-content pre::-webkit-scrollbar-thumb{background:#04b04f;opacity:.6;border:3px solid #f7f7f7}.article-content pre::-webkit-scrollbar-track{background:#f7f7f7;border-radius:6px}.copy-code{position:absolute;top:10px;right:15px;background:rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.2);color:#242424;border-radius:4px;padding:3px 8px;font-size:.8rem;cursor:pointer;transition:all .3s;opacity:0;z-index:10}pre:hover .copy-code{opacity:1}.copy-code:hover{background:rgba(0,0,0,.2)}.copy-code.copied{background:#28a745;color:#fff;border-color:#28a745}@media(max-width:1024px){.toc-container{width:240px;padding:15px}.content-container{padding:25px}}@media(max-width:768px){.main-container{flex-direction:column}.toc-container{position:static;width:100%;margin-right:0;margin-bottom:30px;max-height:none}.article-title{font-size:1.8rem}.article-content pre{max-height:50vh;padding-right:10px}}</style></head><body><nav class=top-nav><div class=nav-container><a href=/ class=site-title>æŠ€æœ¯åšå®¢</a><div class=nav-links><a href=/>é¦–é¡µ</a>
<a href=/posts/>æ‰€æœ‰æ–‡ç« </a>
<a href=/categories/>åˆ†ç±»</a>
<a href=/tags/>æ ‡ç­¾</a></div></div></nav><div class=main-container><aside class=toc-container><h3 class=toc-title>ç›®å½•</h3><div class=toc><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#netbsdçš„å®‰è£…>NetBSDçš„å®‰è£…</a></li><li><a href=#tcpipåœ°å€æ ¼å¼ä»¥ipv4ä¸ºä¾‹>TCP/IPåœ°å€æ ¼å¼(ä»¥IPv4ä¸ºä¾‹)</a></li><li><a href=#å­ç½‘æ©ç >å­ç½‘æ©ç </a></li></ul></li></ul></li></ul></nav></div></aside><article class=content-container><header class=article-header><h1 class=article-title>LearnNetBsd</h1><div class=article-meta><span>ğŸ“… 2024å¹´5æœˆ15æ—¥</span></div></header><div class=article-content><h4 id=netbsdçš„å®‰è£…>NetBSDçš„å®‰è£…</h4><h4 id=tcpipåœ°å€æ ¼å¼ä»¥ipv4ä¸ºä¾‹>TCP/IPåœ°å€æ ¼å¼(ä»¥IPv4ä¸ºä¾‹)</h4><h5 id=tcpipç½‘ç»œçš„åˆ†ç±»>tcp/ipç½‘ç»œçš„åˆ†ç±»</h5><p>ä½¿ç”¨4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰çš„åè¿›åˆ¶æ•°ä¹¦å†™æ–¹æ³•æ¥è¡¨ç¤ºipåœ°å€ã€‚æ¯”å¦‚ï¼š<code>132.199.15.99</code></p><ul><li><p>Aç±»ç½‘ç»œï¼šä»¥<code>0</code>å¼€å¤´çš„ç¬¬ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºç½‘ç»œåœ°å€ã€åä¸‰ä¸ªå­—èŠ‚ä½œä¸ºä¸»æœºåœ°å€ç©ºé—´</p></li><li><p>Bç±»ç½‘ç»œï¼šä»¥<code>10</code>å¼€å¤´çš„å‰ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œåä¸¤ä¸ªå­—èŠ‚ä½œä¸ºä¸»æœºåœ°å€ç©ºé—´</p></li><li><p>Cç±»ç½‘ç»œï¼š<code>110</code>å¼€å¤´çš„å‰ä¸‰ä¸ªå­—èŠ‚è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œæœ€åä¸€ä¸ªå­—èŠ‚åœ°å€ä½œä¸ºä¸»æœºåœ°å€ç©ºé—´</p></li></ul><h5 id=ç½‘ç»œåœ°å€ç©ºé—´çš„è®¡ç®—æ–¹æ³•>ç½‘ç»œåœ°å€ç©ºé—´çš„è®¡ç®—æ–¹æ³•</h5><blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>åœ¨TCP/IPç½‘ç»œä¸­ï¼ŒAã€Bã€Cä¸‰ç±»ç½‘ç»œåˆ†åˆ«å…·æœ‰ä¸åŒçš„ç½‘ç»œå’Œä¸»æœºåœ°å€ç©ºé—´ã€‚ä»¥ä¸‹æ˜¯å…³äºè¿™ä¸‰ç±»ç½‘ç»œçš„è¯¦ç»†è§£é‡Šï¼š
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Aç±»ç½‘ç»œï¼š
</span></span><span class=line><span class=cl> ç½‘ç»œåœ°å€ç©ºé—´ï¼šAç±»ç½‘ç»œåœ°å€çš„ç¬¬1ä¸ªå­—èŠ‚ä¸ºç½‘ç»œåœ°å€ï¼Œæœ€é«˜ä½å›ºå®šä¸º0ï¼Œå› æ­¤å…¶ç½‘ç»œåœ°å€çš„èŒƒå›´æ˜¯1.0.0.0åˆ°126.0.0.0ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œæ•°å­—0å’Œ127å¹¶ä¸ä½œä¸ºä¸»æœºçš„IPåœ°å€ï¼Œè€Œæ˜¯æœ‰ç‰¹æ®Šç”¨é€”ï¼ˆ0è¡¨ç¤ºæœ¬åœ°å®¿ä¸»æœºï¼Œ127ä¿ç•™ç»™å†…éƒ¨å›é€å‡½æ•°ï¼‰ã€‚æ‰€ä»¥ï¼ŒAç±»åœ°å€å®é™…ä¸Šåªæœ‰126ä¸ªå¯ç”¨çš„ç½‘ç»œã€‚
</span></span><span class=line><span class=cl> ä¸»æœºåœ°å€ç©ºé—´ï¼šAç±»åœ°å€çš„å…¶ä»–3ä¸ªå­—èŠ‚ä¸ºä¸»æœºåœ°å€ï¼Œå› æ­¤æ¯ä¸ªAç±»ç½‘ç»œç†è®ºä¸Šå¯ä»¥è¿æ¥16777214å°ä¸»æœºï¼ˆå‡å»2æ˜¯å› ä¸ºå…¨0çš„ä¸»æœºå·è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œå…¨1çš„ä¸»æœºå·è¡¨ç¤ºå¹¿æ’­åœ°å€ï¼‰ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Bç±»ç½‘ç»œï¼š
</span></span><span class=line><span class=cl> ç½‘ç»œåœ°å€ç©ºé—´ï¼šBç±»ç½‘ç»œåœ°å€çš„å‰ä¸¤ä¸ªå­—èŠ‚ä¸ºç½‘ç»œåœ°å€ï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ10â€ï¼Œå› æ­¤å…¶ç½‘ç»œåœ°å€çš„èŒƒå›´æ˜¯128.1.0.0åˆ°191.255.0.0ã€‚
</span></span><span class=line><span class=cl> ä¸»æœºåœ°å€ç©ºé—´ï¼šBç±»åœ°å€çš„åä¸¤ä¸ªå­—èŠ‚ä¸ºä¸»æœºåœ°å€ï¼Œå› æ­¤æ¯ä¸ªBç±»ç½‘ç»œå¯ä»¥å®¹çº³æœ€å¤š65534å°ä¸»æœºï¼ˆåŒæ ·å‡å»2æ˜¯å› ä¸ºå…¨0å’Œå…¨1çš„ä¸»æœºå·æœ‰ç‰¹æ®Šç”¨é€”ï¼‰ã€‚Bç±»ç½‘ç»œåœ°å€é€‚ç”¨äºä¸­ç­‰è§„æ¨¡çš„ç½‘ç»œã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Cç±»ç½‘ç»œï¼š
</span></span><span class=line><span class=cl> ç½‘ç»œåœ°å€ç©ºé—´ï¼šCç±»ç½‘ç»œåœ°å€çš„å‰ä¸‰ä¸ªå­—èŠ‚ä¸ºç½‘ç»œåœ°å€ï¼Œç½‘ç»œåœ°å€çš„æœ€é«˜ä½å¿…é¡»æ˜¯â€œ110â€ï¼Œå› æ­¤å…¶ç½‘ç»œåœ°å€çš„èŒƒå›´æ˜¯192.0.0.0åˆ°223.255.255.0ã€‚
</span></span><span class=line><span class=cl> ä¸»æœºåœ°å€ç©ºé—´ï¼šCç±»åœ°å€çš„æœ€åä¸€ä¸ªå­—èŠ‚ä¸ºä¸»æœºåœ°å€ï¼Œå› æ­¤æ¯ä¸ªCç±»ç½‘ç»œå¯ä»¥å®¹çº³æœ€å¤š254å°ä¸»æœºï¼ˆå‡å»2æ˜¯å› ä¸ºå…¨0å’Œå…¨1çš„ä¸»æœºå·æœ‰ç‰¹æ®Šç”¨é€”ï¼‰ã€‚Cç±»ç½‘ç»œåœ°å€æ•°é‡è¾ƒå¤šï¼Œé€‚ç”¨äºå°è§„æ¨¡çš„å±€åŸŸç½‘ç»œã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ä»¥ä¸Šæ˜¯å…³äºTCP/IPç½‘ç»œä¸­Aã€Bã€Cä¸‰ç±»ç½‘ç»œçš„ç½‘ç»œå’Œä¸»æœºåœ°å€ç©ºé—´çš„è¯¦ç»†è§£é‡Šã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›åœ°å€ç©ºé—´çš„åˆ’åˆ†æ˜¯åŸºäºIPv4åè®®çš„ï¼Œè€ŒIPv6åè®®åˆ™ä½¿ç”¨äº†ä¸åŒçš„åœ°å€è¡¨ç¤ºæ–¹å¼å’Œç©ºé—´åˆ’åˆ†è§„åˆ™ã€‚
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>åœ¨IPv4åœ°å€ä¸­ï¼ŒBç±»ç½‘ç»œçš„åœ°å€èŒƒå›´æ˜¯128.0.0.0åˆ°191.255.0.0ã€‚è¿™ä¸ªèŒƒå›´æ˜¯åŸºäºIPåœ°å€çš„ç±»åˆ«åˆ’åˆ†å’Œå­ç½‘æ©ç çš„æ¦‚å¿µã€‚å¦‚ä½•è®¡ç®—å‡ºBç±»ç½‘ç»œçš„è¿™ä¸ªèŒƒå›´ï¼š
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> IPåœ°å€çš„ç±»åˆ«åˆ’åˆ†ï¼š
</span></span><span class=line><span class=cl> IPv4åœ°å€æ˜¯ä¸€ä¸ª32ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºå››ä¸ªåè¿›åˆ¶æ•°ï¼Œæ¯ä¸ªæ•°åœ¨0åˆ°255ä¹‹é—´ï¼Œç”¨ç‚¹å·ï¼ˆ.ï¼‰åˆ†éš”ã€‚ä¸ºäº†ç®€åŒ–è·¯ç”±å’Œåœ°å€åˆ†é…ï¼ŒIPv4åœ°å€è¢«åˆ’åˆ†ä¸ºå‡ ä¸ªç±»åˆ«ï¼ˆAã€Bã€Cã€Dã€Eï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªç±»åˆ«çš„å‰å‡ ä½å…·æœ‰ç‰¹å®šçš„æ¨¡å¼ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> Bç±»åœ°å€çš„æ¨¡å¼ï¼š
</span></span><span class=line><span class=cl> Bç±»åœ°å€çš„å‰ä¸¤ä½äºŒè¿›åˆ¶æ•°ä¸º10ï¼Œè¿™å¯¹åº”äºåè¿›åˆ¶çš„128ï¼ˆäºŒè¿›åˆ¶10000000ï¼‰ã€‚æ¥ä¸‹æ¥çš„14ä½æ˜¯ç½‘ç»œå·ï¼Œæœ€åçš„16ä½æ˜¯ä¸»æœºå·ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> è®¡ç®—Bç±»åœ°å€çš„èŒƒå›´ï¼š
</span></span><span class=line><span class=cl>     ç½‘ç»œå·çš„æœ€å°å€¼ï¼šç”±äºå‰ä¸¤ä½æ˜¯10ï¼Œæ‰€ä»¥ç½‘ç»œå·çš„æœ€å°å€¼æ˜¯10000000 00000000 00000000 00000000ï¼Œå³128.0.0.0ã€‚
</span></span><span class=line><span class=cl>     ç½‘ç»œå·çš„æœ€å¤§å€¼ï¼šä¸ºäº†å¾—åˆ°Bç±»åœ°å€çš„æœ€å¤§å€¼ï¼Œæˆ‘ä»¬éœ€è¦å°†ç½‘ç»œå·çš„å14ä½å…¨éƒ¨è®¾ç½®ä¸º1ï¼Œå³10111111 11111111 00000000 00000000ã€‚è¿™å¯¹åº”äºåè¿›åˆ¶çš„191.255.0.0ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ‰€ä»¥ï¼ŒBç±»ç½‘ç»œåœ°å€çš„èŒƒå›´æ˜¯128.0.0.0åˆ°191.255.0.0ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶æŠ€æœ¯ä¸Š128.0.0.0å’Œ191.255.0.0éƒ½æ˜¯æœ‰æ•ˆçš„Bç±»ç½‘ç»œåœ°å€ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½ä¸ä¼šç›´æ¥ä¸ºä¸€ä¸ªç½‘ç»œåˆ†é…è¿™æ ·çš„åœ°å€ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸æ˜¯ç”¨äºæ ‡è¯†æ•´ä¸ªBç±»åœ°å€ç©ºé—´çš„è¾¹ç•Œï¼Œè€Œä¸æ˜¯å…·ä½“çš„ç½‘ç»œã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å¦å¤–ï¼Œå½“ä½ ä¸ºä¸€ä¸ªBç±»ç½‘ç»œåˆ†é…åœ°å€æ—¶ï¼Œä½ è¿˜éœ€è¦é€‰æ‹©ä¸€ä¸ªå­ç½‘æ©ç æ¥ç¡®å®šå“ªäº›ä½æ˜¯ç½‘ç»œå·ï¼Œå“ªäº›ä½æ˜¯ä¸»æœºå·ã€‚å¯¹äºæ ‡å‡†çš„Bç±»ç½‘ç»œï¼Œå­ç½‘æ©ç é€šå¸¸æ˜¯255.255.0.0ã€‚
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Cç±»ç½‘ç»œçš„åœ°å€ç©ºé—´æ˜¯åŸºäºIPv4åœ°å€çš„ç±»åˆ«åˆ’åˆ†å’Œå­ç½‘æ©ç çš„æ¦‚å¿µæ¥ç¡®å®šçš„ã€‚ä»¥ä¸‹æ˜¯å…³äºCç±»ç½‘ç»œåœ°å€ç©ºé—´çš„è®¡ç®—æ–¹æ³•ï¼š
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> IPåœ°å€çš„ç±»åˆ«åˆ’åˆ†ï¼š
</span></span><span class=line><span class=cl> IPv4åœ°å€æ˜¯ä¸€ä¸ª32ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œåˆ†ä¸ºå››ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚ç”¨åè¿›åˆ¶è¡¨ç¤ºå¹¶åœ¨0åˆ°255ä¹‹é—´ã€‚Cç±»åœ°å€æ˜¯IPv4åœ°å€ä¸­çš„ä¸€ç§ï¼Œå…¶ç‰¹ç‚¹åœ¨äºå‰ä¸‰æ®µå·ç ä¸ºç½‘ç»œå·ç ï¼Œå‰©ä¸‹çš„ä¸€æ®µå·ç ä¸ºæœ¬åœ°è®¡ç®—æœºçš„å·ç ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> Cç±»åœ°å€çš„æ¨¡å¼ï¼š
</span></span><span class=line><span class=cl> Cç±»åœ°å€çš„å‰ä¸‰ä½äºŒè¿›åˆ¶æ•°ä¸º110ï¼Œè¿™å¯¹åº”äºåè¿›åˆ¶çš„192ï¼ˆäºŒè¿›åˆ¶11000000ï¼‰ã€‚æ¥ä¸‹æ¥çš„21ä½æ˜¯ç½‘ç»œå·ï¼Œæœ€åçš„8ä½æ˜¯ä¸»æœºå·ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> è®¡ç®—Cç±»åœ°å€çš„èŒƒå›´ï¼š
</span></span><span class=line><span class=cl>     ç½‘ç»œå·çš„æœ€å°å€¼ï¼šç”±äºå‰ä¸‰ä½æ˜¯110ï¼Œæ‰€ä»¥ç½‘ç»œå·çš„æœ€å°å€¼æ˜¯11000000 00000000 00000000 00000000ï¼Œå³192.0.0.0ã€‚
</span></span><span class=line><span class=cl>     ç½‘ç»œå·çš„æœ€å¤§å€¼ï¼šä¸ºäº†å¾—åˆ°Cç±»åœ°å€çš„æœ€å¤§å€¼ï¼Œæˆ‘ä»¬éœ€è¦å°†ç½‘ç»œå·çš„å21ä½å…¨éƒ¨è®¾ç½®ä¸º1ï¼ŒåŒæ—¶ä¿æŒå‰ä¸‰ä½ä¸º110ï¼Œå³11011111 11111111 11111111 00000000ã€‚è¿™å¯¹åº”äºåè¿›åˆ¶çš„223.255.255.0ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å› æ­¤ï¼ŒCç±»ç½‘ç»œåœ°å€çš„èŒƒå›´æ˜¯192.0.0.0åˆ°223.255.255.0ã€‚ä½†è¯·æ³¨æ„ï¼Œå®é™…çš„ä¸»æœºåœ°å€èŒƒå›´æ˜¯ä»192.0.0.1åˆ°223.255.255.254ï¼Œå› ä¸ºå…¨0çš„ä¸»æœºå·è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œå…¨1çš„ä¸»æœºå·è¡¨ç¤ºå¹¿æ’­åœ°å€ï¼Œè¿™ä¸¤ä¸ªåœ°å€åœ¨å®é™…çš„ç½‘ç»œé€šä¿¡ä¸­éƒ½æœ‰ç‰¹æ®Šç”¨é€”ï¼Œä¸èƒ½åˆ†é…ç»™ä¸»æœºä½¿ç”¨ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>æ­¤å¤–ï¼ŒCç±»åœ°å€çš„å­ç½‘æ©ç é€šå¸¸æ˜¯255.255.255.0ï¼Œç”¨äºåŒºåˆ†ç½‘ç»œå·å’Œä¸»æœºå·ã€‚åœ¨Cç±»ç½‘ç»œä¸­ï¼Œæ¯ä¸ªç½‘ç»œæœ€å¤šå¯ä»¥æœ‰254å°ä¸»æœºï¼ˆå‡å»ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€ï¼‰ã€‚Cç±»åœ°å€é€‚ç”¨äºå°å‹ç½‘ç»œï¼Œå¦‚æ ¡å›­ç½‘å’ŒåŠå…¬ç½‘ç»œç­‰ã€‚
</span></span></code></pre></div></blockquote><h4 id=å­ç½‘æ©ç >å­ç½‘æ©ç </h4><blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ä½¿ç”¨ANDæ“ä½œæ¥ç¡®å®šIPåœ°å€çš„ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†æ˜¯åŸºäºå­ç½‘æ©ç çš„è®¾è®¡åŸç†ã€‚å­ç½‘æ©ç ä¸­çš„1è¡¨ç¤ºç½‘ç»œä½ï¼Œè€Œ0è¡¨ç¤ºä¸»æœºä½ã€‚ANDæ“ä½œï¼ˆä½ä¸æ“ä½œï¼‰åœ¨äºŒè¿›åˆ¶å±‚é¢ä¸Šå·¥ä½œï¼Œå¯¹äºæ¯ä¸€ä½ï¼Œåªæœ‰å½“ä¸¤ä¸ªç›¸åº”çš„ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœæ‰ä¸º1ï¼Œå¦åˆ™ç»“æœä¸º0ã€‚
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å½“æˆ‘ä»¬å¯¹IPåœ°å€å’Œå­ç½‘æ©ç æ‰§è¡ŒANDæ“ä½œæ—¶ï¼Œç»“æœä¸­çš„æ¯ä¸€ä½éƒ½å°†æ˜¯ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¹‹ä¸€ï¼š
</span></span><span class=line><span class=cl>    å¦‚æœå­ç½‘æ©ç ä¸­å¯¹åº”ä½æ˜¯1ï¼ˆå³ç½‘ç»œä½ï¼‰ï¼Œé‚£ä¹ˆç»“æœä¸­çš„è¿™ä¸€ä½å°†å–å†³äºIPåœ°å€ä¸­å¯¹åº”ä½çš„å€¼ï¼Œå› ä¸ºä»»ä½•æ•°ä¸1åšANDæ“ä½œéƒ½ä¿æŒåŸå€¼ä¸å˜ã€‚
</span></span><span class=line><span class=cl>    å¦‚æœå­ç½‘æ©ç ä¸­å¯¹åº”ä½æ˜¯0ï¼ˆå³ä¸»æœºä½ï¼‰ï¼Œé‚£ä¹ˆæ— è®ºIPåœ°å€ä¸­å¯¹åº”ä½çš„å€¼æ˜¯ä»€ä¹ˆï¼Œç»“æœä¸­çš„è¿™ä¸€ä½éƒ½å°†æ˜¯0ï¼Œå› ä¸ºä»»ä½•æ•°ä¸0åšANDæ“ä½œçš„ç»“æœéƒ½æ˜¯0ã€‚
</span></span><span class=line><span class=cl>å› æ­¤ï¼Œé€šè¿‡æ‰§è¡ŒANDæ“ä½œï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨â€œå±è”½â€IPåœ°å€ä¸­çš„ä¸»æœºä½ï¼Œåªä¿ç•™ç½‘ç»œä½ã€‚è¿™æ ·ï¼Œç»“æœå°±æ˜¯ä¸€ä¸ªåªåŒ…å«ç½‘ç»œéƒ¨åˆ†çš„åœ°å€ï¼Œå³ç½‘ç»œåœ°å€ã€‚
</span></span><span class=line><span class=cl>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹IPåœ°å€å’Œå­ç½‘æ©ç ï¼ˆä¸ºç®€åŒ–ï¼Œä»…ä½¿ç”¨8ä½è¡¨ç¤ºï¼‰ï¼š
</span></span><span class=line><span class=cl>IPåœ°å€ï¼š 11000001ï¼ˆå³193ï¼‰
</span></span><span class=line><span class=cl>å­ç½‘æ©ç ï¼š 11110000ï¼ˆå³240ï¼Œè¡¨ç¤ºå‰4ä½æ˜¯ç½‘ç»œä½ï¼Œå4ä½æ˜¯ä¸»æœºä½ï¼‰
</span></span><span class=line><span class=cl>æ‰§è¡ŒANDæ“ä½œï¼š
</span></span><span class=line><span class=cl>11000001ï¼ˆIPåœ°å€ï¼‰
</span></span><span class=line><span class=cl>AND 11110000ï¼ˆå­ç½‘æ©ç ï¼‰
</span></span><span class=line><span class=cl>= 11000000ï¼ˆç»“æœï¼Œå³ç½‘ç»œåœ°å€192ï¼‰
</span></span><span class=line><span class=cl>å¯ä»¥çœ‹åˆ°ï¼Œç»“æœä¸­åªä¿ç•™äº†IPåœ°å€ä¸­ä¸å­ç½‘æ©ç ä¸­1ç›¸å¯¹åº”çš„éƒ¨åˆ†ï¼ˆå³ç½‘ç»œä½ï¼‰ï¼Œè€Œä¸»æœºä½è¢«â€œå±è”½â€ä¸º0ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè½»æ¾åœ°ç¡®å®šIPåœ°å€çš„ç½‘ç»œéƒ¨åˆ†ã€‚
</span></span></code></pre></div></blockquote><p>ä¸‹é¢æ˜¯å¤åˆ¶NetBSDå®˜ç½‘ä¸‹è½½çš„<code>**The NetBSD Guide**</code>å…³äº<code>TCP/IP</code>çš„ä¸€æ®µæ–‡å­—ï¼š</p><p><strong>TCP/IP Address Format</strong></p><p>TCP/IP uses 4-byte (32-bit) addresses in the current implementations (IPv4), also called IP-numbers</p><p>(Internet-Protocol numbers), to address hosts.</p><p>TCP/IP allows any two machines to communicate directly. To permit this all hosts on a given network</p><p>must have a unique IP address. To assure this, IP addresses are administrated by one central organisation,</p><p>the InterNIC. They give certain ranges of addresses (network-addresses) directly to sites which want to</p><p>participate in the internet or to internet-providers, which give the addresses to their customers.</p><p>If your university or company is connected to the Internet, it has (at least) one such network-address for</p><p>its own use, usually not assigned by the InterNIC directly, but rather through an Internet Service Provider</p><p>(ISP).</p><p>If you just want to run your private network at home, see below on how to â€œbuildâ€ your own IP</p><p>addresses. However, if you want to connect your machine to the (real :-) Internet, you should get an IP</p><p>addresses from your local network-administrator or -provider.</p><p>IP addresses are usually written in â€œdotted quadâ€-notation - the four bytes are written down in decimal</p><p>(most significant byte first), separated by dots. For example, 132.199.15.99 would be a valid address.</p><p>Another way to write down IP-addresses would be as one 32-bit hex-word, e.g. 0x84c70f63. This is not</p><p>as convenient as the dotted-quad, but quite useful at times, too. (See below)</p><p>Being assigned a network means nothing else but setting some of the above-mentioned 32 address-bits to</p><p>certain values. These bits that are used for identifying the network are called network-bits. The</p><p>remaining bits can be used to address hosts on that network, therefore they are called host-bits. Figure</p><p>23-1 illustrates the separation.</p><p><strong>Figure 23-1. IPv4-addresses are divided into more significant network- and less significant hostbits</strong></p><table><thead><tr><th>n netbits</th><th>32âˆ’n hostbits</th></tr></thead><tbody></tbody></table><p>In the above example, the network-address is 132.199.0.0 (host-bits are set to 0 in network-addresses)</p><p>and the hostâ€™s address is 15.99 on that network.</p><p>How do you know that the hostâ€™s address is 16 bit wide? Well, this is assigned by the provider from</p><p>which you get your network-addresses. In the classless inter-domain routing (CIDR) used today, host</p><p>fields are usually between as little as 2 to 16 bits wide, and the number of network-bits is written after the</p><p>network address, separated by a â€œ/â€, e.g. 132.199.0.0/16 tells that the network in question has 16</p><p>network-bits. When talking about the â€œsizeâ€ of a network, itâ€™s usual to only talk about it as â€œ/16â€, â€œ/24â€,</p><p>etc.</p><p>Before CIDR was used, there used to be four classes of networks. Each one starts with a certain</p><p>bit-pattern identifying it. Here are the four classes:</p><p>â€¢ Class A starts with â€œ0â€ as most significant bit. The next seven bits of a class A address identify the</p><p>network, the remaining 24 bit can be used to address hosts. So, within one class A network there can</p><p>be 224 hosts. Itâ€™s not very likely that you (or your university, or company, or whatever) will get a whole</p><p>class A address.</p><p>The CIDR notation for a class A network with its eight network bits is an â€œ/8â€.</p><p>â€¢ Class B starts with â€œ10â€ as most significant bits. The next 14 bits are used for the networks address</p><p>and the remaining 16 bits can be used to address more than 65000 hosts. Class B addresses are very</p><p>rarely given out today, they used to be common for companies and universities before IPv4 address</p><p>space went scarce.</p><p>The CIDR notation for a class B network with its 16 network bits is an â€œ/16â€.</p><p>Returning to our above example, you can see that 132.199.15.99 (or 0x84c70f63, which is more</p><p>appropriate here!) is on a class B network, as 0x84&mldr; = <strong>10</strong>00&mldr; (base 2).</p><p>Therefore, the address 132.199.15.99 can be split into an network-address of 132.199.0.0 and a</p><p>host-address of 15.99.</p><p>â€¢ Class C is identified by the MSBs being â€œ110â€, allowing only 256 (actually: only 254, see below) hosts</p><p>on each of the 221 possible class C networks. Class C addresses are usually found at (small) companies.</p><p>The CIDR notation for a class C network with its 24 network bits is an â€œ/24â€.</p><p>â€¢ There are also other addresses, starting with â€œ111â€. Those are used for special purposes (e. g.</p><p>multicast-addresses) and are not of interest here.</p><p>Please note that the bits which are used for identifying the network-class are part of the network-address.</p><p>When separating host-addresses from network-addresses, the â€œnetmaskâ€ comes in handy. In this mask,</p><p>all the network-bits are set to â€œ1â€, the host-bits are â€œ0â€. Thus, putting together IP-address and netmask</p><p>with a logical AND-function, the network-address remains.</p><p>To continue our example, 255.255.0.0 is a possible netmask for 132.199.15.99. When applying this</p><p>mask, the network-address 132.199.0.0 remains.</p><p>For addresses in CIDR notation, the number of network-bits given also says how many of the most</p><p>significant bits of the address must be set to â€œ1â€ to get the netmask for the corresponding network. For</p><p>classful addressing, every network-class has a fixed default netmask assigned:</p><p>â€¢ Class A (/8): default-netmask: 255.0.0.0, first byte of address: 1-127</p><p>â€¢ Class B (/16): default-netmask: 255.255.0.0, first byte of address: 128-191</p><p>â€¢ Class C (/24): default-netmask: 255.255.255.0, first byte of address: 192-223</p><p>Another thing to mention here is the â€œbroadcast-addressâ€. When sending to this address, <em>all</em> hosts on the</p><p>corresponding network will receive the message sent. The broadcast address is characterized by having</p><p>all host-bits set to â€œ1â€.</p><p>Taking 132.199.15.99 with its netmask 255.255.0.0 again, the broadcast-address would result in</p><p>132.199.255.255.</p><p>Youâ€™ll ask now: But what if I want a hostâ€™s address to be all bits â€œ0â€ or â€œ1â€? Well, this doesnâ€™t work, as</p><p>network- and broadcast-address must be present! Because of this, a class B (/16) network can contain at</p><p>most 216-2 hosts, a class C (/24) network can hold no more than 28 -2 = 254 hosts.</p><p>Besides all those categories of addresses, thereâ€™s the special IP-address 127.0.0.1 which always refers to</p><p>the â€œlocalâ€ host, i.e. if you talk to 127.0.0.1 youâ€™ll talk to yourself without starting any network-activity.</p><p>This is sometimes useful to use services installed on your own machine or to play around if you donâ€™t</p><p>have other hosts to put on your network.</p><p>Letâ€™s put together the things weâ€™ve introduced in this section:</p><p>IP-address</p><p>32 bit-address, with network- and host-bits.</p><p>Network-address</p><p>IP-address with all host bits set to â€œ0â€.</p><p>Netmask</p><p>32-bit mask with â€œ1â€ for network- and â€œ0â€ for host-bits.</p><p>Broadcast</p><p>IP-address with all host bits set â€œ1â€.</p><p>localhostâ€™s address</p><p>The local hostâ€™s IP address is always 127.0.0.1.</p><p><strong>23.5 Subnetting and Routing</strong></p><p>After talking so much about netmasks, network-, host- and other addresses, I have to admit that this is</p><p>not the whole truth.</p><p>Imagine the situation at your university, which usually has a class B (/16) address, allowing it to have up</p><p>to 216 ~= 65534 hosts on that net. Maybe it would be a nice thing to have all those hosts on one single</p><p>network, but itâ€™s simply not possible due to limitations in the transport media commonly used today.</p><p>For example, when using thinwire ethernet, the maximum length of the cable is 185 meters. Even with</p><p>repeaters in between, which refresh the signals, this is not enough to cover all the locations where</p><p>machines are located. Besides that, there is a maximum number of 1024 hosts on one ethernet wire, and</p><p>youâ€™ll lose quite a bit of performance if you go to this limit.</p><p>So, are you hosed now? Having an address which allows more than 60000 hosts, but being bound to</p><p>media which allows far less than that limit?</p><p>Well, of course not! :-)</p><p>The idea is to divide the â€œbigâ€ class B net into several smaller networks, commonly called sub-networks</p><p>or simply subnets. Those subnets are only allowed to have, say, 254 hosts on them (i.e. you divide one</p><p>big class B network into several class C networks!).</p><p>To do this, you adjust your netmask to have more network- and less host-bits on it. This is usually done</p><p>on a byte-boundary, but youâ€™re not forced to do it there. So, commonly your netmask will not be</p><p>255.255.0.0 as supposed by a class B network, but it will be set to 255.255.255.0.</p><p>In CIDR notation, you now write a â€œ/24â€ instead of the â€œ/16â€ to show that 24 bits of the address are used</p><p>for identifying the network and subnet, instead of the 16 that were used before.</p><p>This gives you one additional network-byte to assign to each (physical!) network. All the 254 hosts on</p><p>that subnet can now talk directly to each other, and you can build 256 such class C nets. This should fit</p><p>your needs.</p><p>To explain this better, letâ€™s continue our above example. Say our host 132.199.15.99 (Iâ€™ll call him dusk</p><p>from now; weâ€™ll talk about assigning hostnames later) has a netmask of 255.255.255.0 and thus is on the</p><p>subnet 132.199.15.0/24. Letâ€™s furthermore introduce some more hosts so we have something to play</p><p>around with, see Figure 23-2.</p><p><strong>Figure 23-2. Our demo-network</strong></p><p>![img](C:/Users/win10/Desktop/æ–°å»ºæ–‡ä»¶å¤¹ (2)/images/figure-23-2.png)</p><p>In the above network, dusk can talk directly to dawn, as they are both on the same subnet. (There are</p><p>other hosts attached to the 132.199.15.0/24-subnet but they are not of importance for us now)</p><p>But what if dusk wants to talk to a host on another subnet?</p><p>Well, the traffic will then go through one or more gateways (routers), which are attached to two subnets.</p><p>Because of this, a router always has two different addresses, one for each of the subnets it is on. The</p><p>router is functionally transparent, i.e. you donâ€™t have to address it to reach hosts on the â€œotherâ€ side.</p><p>Instead, you address that host directly and the packets will be routed to it correctly.</p><p>Example. Letâ€™s say dusk wants to get some files from the local ftp-server. As dusk canâ€™t reach ftp directly</p><p>(because itâ€™s on a different subnet), all its packets will be forwarded to its &ldquo;defaultrouter&rdquo; rzi</p><p>(132.199.15.1), which knows where to forward the packets.</p><p>Dusk knows the address of its defaultrouter in its network (rzi, 132.199.15.1), and it will forward any</p><p>packets to it which are not on the same subnet, i.e. it will forward all IP-packets in which the third</p><p>address-byte isnâ€™t 15.</p><p>The (default)router then gives the packets to the appropriate host, as itâ€™s also on the FTP-serverâ€™s</p><p>network.</p><p>In this example, <em>all</em> packets are forwarded to the 132.199.1.0/24-network, simply because itâ€™s the</p><p>networkâ€™s backbone, the most important part of the network, which carries all the traffic that passes</p><p>between several subnets. Almost all other networks besides 132.199.15.0/24 are attached to the</p><p>backbone in a similar manner.</p><p>But what if we had hooked up another subnet to 132.199.15.0/24 instead of 132.199.1.0/24? Maybe</p><p>something the situation displayed in Figure 23-3.</p><p><strong>Figure 23-3. Attaching one subnet to another one</strong></p><p>![img](C:/Users/win10/Desktop/æ–°å»ºæ–‡ä»¶å¤¹ (2)/images/figure-23-3.png)</p><p>When we now want to reach a host which is located in the 132.199.16.0/24-subnet from dusk, it wonâ€™t</p><p>work routing it to rzi, but youâ€™ll have to send it directly to route2 (132.199.15.2). Dusk will have to know</p><p>to forward those packets to route2 and send all the others to rzi.</p><p>When configuring dusk, you tell it to forward all packets for the 132.199.16.0/24-subnet to route2, and</p><p>all others to rzi. Instead of specifying this default as 132.199.1.0/24, 132.199.2.0/24, etc., 0.0.0.0 can be</p><p>used to set the default-route.</p><p>Returning to Figure 23-2, thereâ€™s a similar problem when dawn wants to send to noon, which is</p><p>connected to dusk via a serial line running. When looking at the IP-addresses, noon seems to be attached</p><p>to the 132.199.15.0-network, but it isnâ€™t really. Instead, dusk is used as gateway, and dawn will have to</p><p>send its packets to dusk, which will forward them to noon then. The way dusk is forced into accepting</p><p>packets that arenâ€™t destined at it but for a different host (noon) instead is called â€œproxy arpâ€.</p><p>The same goes when hosts from other subnets want to send to noon. They have to send their packets to</p><p>dusk (possibly routed via rzi),</p></div></article></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightElement(e);const t=document.createElement("button");t.className="copy-code",t.textContent="Copy",t.addEventListener("click",()=>{navigator.clipboard.writeText(e.textContent).then(()=>{t.textContent="Copied!",t.classList.add("copied"),setTimeout(()=>{t.textContent="Copy",t.classList.remove("copied")},2e3)})}),e.parentElement.prepend(t)});const o=document.querySelectorAll(".article-content h2[id], .article-content h3[id]"),i=document.querySelectorAll('.toc a[href^="#"]'),a=document.querySelector(".top-nav").offsetHeight,n=document.querySelector(".toc-container"),e=[];o.forEach(t=>{e.push({id:t.id,top:t.offsetTop-a-20})});function s(){const s=window.scrollY;let t="";for(let n=e.length-1;n>=0;n--)if(e[n].top<=s+50){t=e[n].id;break}i.forEach(e=>{const s=e.getAttribute("href")===`#${t}`;if(e.classList.toggle("active",s),s){const t=e.offsetTop-n.clientHeight/2;n.scrollTop=t}})}let t=!1;window.addEventListener("scroll",()=>{t||(window.requestAnimationFrame(()=>{s(),t=!1}),t=!0)}),s()})</script></body></html>