<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Dockerå­¦ä¹ ç¬”è®° | æŠ€æœ¯åšå®¢</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel=stylesheet><style>:root{--nav-height:60px;--toc-width:280px;--content-padding:40px;--primary-color:#3498db;--text-color:#333;--light-gray:#f5f5f5;--border-color:#eaeaea}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,sans-serif;color:var(--text-color);line-height:1.6;padding-top:var(--nav-height);overflow-x:hidden}.top-nav{position:fixed;top:0;left:0;right:0;height:var(--nav-height);background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.1);display:flex;align-items:center;padding:0 30px;z-index:1000}.nav-container{width:100%;max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.site-title{font-size:1.4rem;font-weight:700;color:var(--primary-color);text-decoration:none}.nav-links{display:flex;gap:25px}.nav-links a{color:var(--text-color);text-decoration:none;font-size:1rem;transition:color .3s}.nav-links a:hover{color:var(--primary-color)}.main-container{display:flex;max-width:1400px;margin:0 auto;padding:20px}.toc-container{position:sticky;top:calc(var(--nav-height) + 20px);align-self:flex-start;width:var(--toc-width);padding:20px;margin-right:30px;max-height:calc(100vh - var(--nav-height) - 40px);overflow-y:auto;background:var(--light-gray);border-radius:8px;scroll-behavior:auto;overscroll-behavior:contain}.toc-title{font-size:1.2rem;margin-bottom:15px;padding-bottom:10px;border-bottom:2px solid var(--primary-color)}.toc ul{list-style:none;padding-left:15px}.toc li{margin-bottom:8px;position:relative}.toc a{color:var(--text-color);text-decoration:none;display:block;padding:5px 0 5px 10px;transition:all .2s;font-size:.95rem;border-left:2px solid transparent}.toc a:hover{color:var(--primary-color);transform:translateX(5px)}.toc a.active{color:var(--primary-color);font-weight:700;border-left:3px solid var(--primary-color);background:rgba(52,152,219,5%);transform:translateX(5px)}.content-container{flex:1;background:#fff;padding:var(--content-padding);border-radius:8px;box-shadow:0 2px 15px rgba(0,0,0,5%)}.article-header{margin-bottom:30px;border-bottom:1px solid var(--border-color);padding-bottom:20px}.article-title{font-size:2rem;margin-bottom:10px;color:#2c3e50}.article-meta{display:flex;gap:20px;color:#7f8c8d;font-size:.9rem;margin-bottom:15px}.article-content{line-height:1.8}.article-content h2{font-size:1.6rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color);scroll-margin-top:calc(var(--nav-height) + 20px)}.article-content h3{font-size:1.3rem;margin:1.5rem 0 .8rem;scroll-margin-top:calc(var(--nav-height) + 20px)}.article-content img{max-width:100%;height:auto;border-radius:6px;margin:1.5rem 0;box-shadow:0 3px 10px rgba(0,0,0,.1)}.article-content pre{position:relative;background:#f7f7f7;color:#242424;border-left:4px solid #04b04f;border-radius:8px;padding:1.5rem 1rem 1rem;margin:1.5rem 0;overflow:auto;box-shadow:0 1px 3px rgba(0,0,0,.1);max-height:40vh;white-space:pre-wrap;font-family:fira code,Menlo,Monaco,Consolas,monospace;font-size:.9rem;line-height:1.5;scrollbar-width:thin;scrollbar-color:#c4c4c4 #f7f7f7}.article-content code{font-family:inherit;color:inherit!important;background:0 0!important;padding:0;text-shadow:none!important;font-size:.9rem}.hljs-meta,.hljs-built_in{color:#04b04f}.hljs-attribute{color:#e91e63}.hljs-string{color:#2e7d32}.hljs-number{color:#2196f3}.article-content pre::-webkit-scrollbar{width:12px;height:12px}.article-content pre::-webkit-scrollbar{width:12px;height:12px}.article-content pre::-webkit-scrollbar-thumb{background:#04b04f;opacity:.6;border:3px solid #f7f7f7}.article-content pre::-webkit-scrollbar-track{background:#f7f7f7;border-radius:6px}.copy-code{position:absolute;top:10px;right:15px;background:rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.2);color:#242424;border-radius:4px;padding:3px 8px;font-size:.8rem;cursor:pointer;transition:all .3s;opacity:0;z-index:10}pre:hover .copy-code{opacity:1}.copy-code:hover{background:rgba(0,0,0,.2)}.copy-code.copied{background:#28a745;color:#fff;border-color:#28a745}@media(max-width:1024px){.toc-container{width:240px;padding:15px}.content-container{padding:25px}}@media(max-width:768px){.main-container{flex-direction:column}.toc-container{position:static;width:100%;margin-right:0;margin-bottom:30px;max-height:none}.article-title{font-size:1.8rem}.article-content pre{max-height:50vh;padding-right:10px}}</style></head><body><nav class=top-nav><div class=nav-container><a href=/ class=site-title>æŠ€æœ¯åšå®¢</a><div class=nav-links><a href=/>é¦–é¡µ</a>
<a href=/posts/>æ‰€æœ‰æ–‡ç« </a>
<a href=/categories/>åˆ†ç±»</a>
<a href=/tags/>æ ‡ç­¾</a></div></div></nav><div class=main-container><aside class=toc-container><h3 class=toc-title>ç›®å½•</h3><div class=toc><nav id=TableOfContents><ul><li><a href=#ä»€ä¹ˆæ˜¯docker>ä»€ä¹ˆæ˜¯docker</a></li><li><a href=#å‡†å¤‡å·¥ä½œ>å‡†å¤‡å·¥ä½œ</a></li><li><a href=#å¦‚ä½•å®‰è£…docker>å¦‚ä½•å®‰è£…docker</a></li><li><a href=#ä½¿ç”¨dockeræ„å»ºåŸºäºmysqlnginxwordpressçš„ä¸ªäººç«™ç‚¹>ä½¿ç”¨dockeræ„å»ºåŸºäº<code>mysql</code>ï¼Œ<code>nginx</code>ã€<code>wordpress</code>çš„ä¸ªäººç«™ç‚¹</a></li><li><a href=#ç†è§£-docker>ç†è§£ Docker</a><ul><li><a href=#1-æ¦‚å¿µ>1. æ¦‚å¿µ</a><ul><li><a href=#11-docker-imageé•œåƒ>1.1 Docker Imageï¼ˆé•œåƒï¼‰</a></li><li><a href=#12-docker-containerå®¹å™¨>1.2 Docker Containerï¼ˆå®¹å™¨ï¼‰</a></li><li><a href=#13-image-ä¸-container-çš„å…³ç³»>1.3 Image ä¸ Container çš„å…³ç³»</a></li></ul></li><li><a href=#2-dockerfile>2. Dockerfile</a><ul><li><a href=#21-ä½œç”¨>2.1 ä½œç”¨</a></li><li><a href=#22-å¸¸ç”¨æŒ‡ä»¤>2.2 å¸¸ç”¨æŒ‡ä»¤</a></li><li><a href=#23-ç¤ºä¾‹>2.3 ç¤ºä¾‹</a></li></ul></li><li><a href=#3-docker-compose>3. Docker Compose</a><ul><li><a href=#31-ä½œç”¨>3.1 ä½œç”¨</a></li><li><a href=#32-æ¦‚å¿µ>3.2 æ¦‚å¿µ</a></li><li><a href=#33-ç¤ºä¾‹>3.3 ç¤ºä¾‹</a></li></ul></li><li><a href=#4-å¸¸ç”¨å‘½ä»¤>4. å¸¸ç”¨å‘½ä»¤</a><ul><li><a href=#41-é•œåƒç›¸å…³>4.1 é•œåƒç›¸å…³</a></li><li><a href=#42-å®¹å™¨ç›¸å…³>4.2 å®¹å™¨ç›¸å…³</a></li><li><a href=#43-compose-ç›¸å…³>4.3 Compose ç›¸å…³</a></li></ul></li><li><a href=#5-å®è·µå»ºè®®>5. å®è·µå»ºè®®</a></li><li><a href=#6-å¸¸è§é—®é¢˜æ’æŸ¥>6. å¸¸è§é—®é¢˜æ’æŸ¥</a><ul><li><a href=#3-dockerfile>3. <strong>Dockerfile</strong></a></li></ul></li><li><a href=#ä»å¼€å‘åˆ°éƒ¨ç½²>ä»å¼€å‘åˆ°éƒ¨ç½²</a></li><li><a href=#å¤šæœåŠ¡é¡¹ç›®>å¤šæœåŠ¡é¡¹ç›®</a></li></ul></li><li><a href=#ç†è§£è¦ç‚¹>ç†è§£è¦ç‚¹</a><ul><li><a href=#image-ä¸-container-å…³ç³»>Image ä¸ Container å…³ç³»</a></li></ul></li><li><a href=#ç”¨ç®€å•çš„å®ä¾‹æ¥ç†è§£dockerå®¹å™¨åŒ–æ•´ä¸ªé¡¹ç›®è¿‡ç¨‹>ç”¨ç®€å•çš„å®ä¾‹æ¥ç†è§£Dockerå®¹å™¨åŒ–æ•´ä¸ªé¡¹ç›®è¿‡ç¨‹</a><ul><li><a href=#é¡¹ç›®ç»“æ„>é¡¹ç›®ç»“æ„</a></li><li><a href=#æ­¥éª¤>æ­¥éª¤</a><ul><li><a href=#1-åˆ›å»ºdockerfile>1. åˆ›å»ºDockerfile</a></li><li><a href=#2-åˆ›å»ºdocker-composeyml>2. åˆ›å»ºdocker-compose.yml</a></li><li><a href=#3-åˆ›å»ºrequirementstxt>3. åˆ›å»ºrequirements.txt</a></li><li><a href=#4-é…ç½®djangoé¡¹ç›®>4. é…ç½®Djangoé¡¹ç›®</a></li><li><a href=#5-æ„å»ºå¹¶è¿è¡Œ>5. æ„å»ºå¹¶è¿è¡Œ</a></li><li><a href=#6-æ‰§è¡Œæ•°æ®åº“è¿ç§»>6. æ‰§è¡Œæ•°æ®åº“è¿ç§»</a></li><li><a href=#7-è®¿é—®åº”ç”¨>7. è®¿é—®åº”ç”¨</a></li></ul></li><li><a href=#æ·±å…¥ç»†èŠ‚>æ·±å…¥ç»†èŠ‚</a><ul><li><a href=#æ•°æ®æŒä¹…åŒ–>æ•°æ®æŒä¹…åŒ–</a></li><li><a href=#å¼€å‘æ¨¡å¼>å¼€å‘æ¨¡å¼</a></li><li><a href=#ç”Ÿäº§ç¯å¢ƒ>ç”Ÿäº§ç¯å¢ƒ</a></li></ul></li></ul></li><li><a href=#å›½å†…å¯ç”¨-dockeré•œåƒæºregistry-mirrors>å›½å†…å¯ç”¨ Dockeré•œåƒæºï¼ˆregistry-mirrorsï¼‰</a></li></ul></nav></div></aside><article class=content-container><header class=article-header><h1 class=article-title>Dockerå­¦ä¹ ç¬”è®°</h1><div class=article-meta><span>ğŸ“… 2025å¹´10æœˆ4æ—¥</span>
<span>ğŸ“ <a href=/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB>é»˜è®¤åˆ†ç±»</a></span></div></header><div class=article-content><h1 id=docker-å­¦ä¹ ç¬”è®°>Docker å­¦ä¹ ç¬”è®°</h1><h2 id=ä»€ä¹ˆæ˜¯docker>ä»€ä¹ˆæ˜¯docker</h2><p>docker is a virtual platform for developer to pack the application and the environment together as container ,and finally delivery the docker container to customer to use .</p><h2 id=å‡†å¤‡å·¥ä½œ>å‡†å¤‡å·¥ä½œ</h2><p>prerequisiteï¼ˆdocker is originally from <code>linux</code> ,so you must install windows subsystem for <code>linux</code>ï¼‰</p><ul><li>enable the two options of <code>wsl</code> and virtual machine platform within program function in control panel of windows.</li><li>reboot windows</li></ul><h2 id=å¦‚ä½•å®‰è£…docker>å¦‚ä½•å®‰è£…docker</h2><ul><li>install <code>ubuntu</code> of the newest Â·<code>lts</code> version from <code>microsoft</code> store .please refer to the <code>microsoft</code> document on how to install <code>wsl</code>. after download the installation execution file ,double the file to run setup ï¼Œremember to select the option of Use <code>WSL 2</code> instead of Hyper-V (recommended) and don&rsquo;t select the option of" Allow Windows Containers to be used with this installation",because we need to run docker under <code>wsl</code>.</li><li>start <code>wsl</code><ul><li>you should use windows <code>powershell</code> to run <code>wsl</code> command ,and then run into the shell of <code>wsl</code> . remember not to run <code>ubuntu</code> directly which is installed from <code>microsoft</code> store. you should use <code>wsl2</code> rather than <code>wsl1</code>.if you open the <code>ubuntu</code> from windows start menu,the default version is <code>wsl1</code>,so you&rsquo;d better run <code>wsl</code> within windows <code>powershell</code>.</li></ul></li></ul><p>the core concepts of docker</p><ul><li><p>image</p><p>like a configuration template of the application and its environment .</p></li><li><p>container</p><p>be a instance of the configuration template of the application and environment .</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. é•œåƒ (Image) = äº§å“è®¾è®¡å›¾
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    åŒ…å«åº”ç”¨ç¨‹åºå’Œè¿è¡Œç¯å¢ƒ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    æ ‡å‡†åŒ–ã€ä¸å¯å˜çš„æ¨¡æ¿
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2. å®¹å™¨ (Container) = äº§å“å®ä¾‹
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    æ ¹æ®è®¾è®¡å›¾åˆ›å»ºçš„è¿è¡Œå®ä¾‹
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    æ¯ä¸ªå®ä¾‹éƒ½æ˜¯ç‹¬ç«‹çš„
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>3. Docker Compose = è£…é…è¯´æ˜ä¹¦
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    å®šä¹‰å¤šä¸ªäº§å“å¦‚ä½•ç»„è£…æˆå®Œæ•´ç³»ç»Ÿ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    ç®¡ç†å®ä¾‹é—´çš„åä½œå…³ç³»
</span></span></code></pre></div></li></ul><h2 id=ä½¿ç”¨dockeræ„å»ºåŸºäºmysqlnginxwordpressçš„ä¸ªäººç«™ç‚¹>ä½¿ç”¨dockeræ„å»ºåŸºäº<code>mysql</code>ï¼Œ<code>nginx</code>ã€<code>wordpress</code>çš„ä¸ªäººç«™ç‚¹</h2><h2 id=ç†è§£-docker>ç†è§£ Docker</h2><h3 id=1-æ¦‚å¿µ>1. æ¦‚å¿µ</h3><h4 id=11-docker-imageé•œåƒ>1.1 Docker Imageï¼ˆé•œåƒï¼‰</h4><ul><li><strong>å®šä¹‰</strong>ï¼šæ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ï¼Œæˆ–è€…æŠŠå®ƒçœ‹åšä¸€ä¸ªpackage,åŒ…å«äº†è¿è¡Œåº”ç”¨æ‰€éœ€çš„ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<ul><li>åˆ†å±‚å­˜å‚¨ï¼Œæ¯ä¸€å±‚ä»£è¡¨é•œåƒæ„å»ºè¿‡ç¨‹ä¸­çš„ä¸€æ­¥ï¼Œè¿™äº›å±‚æ˜¯åªè¯»çš„ã€‚</li><li>å¯ä»¥å…±äº«å’Œç‰ˆæœ¬åŒ–ç®¡ç†ï¼ˆé€šè¿‡æ ‡ç­¾ï¼‰ã€‚</li></ul></li><li><strong>ç±»æ¯”</strong>ï¼šå¦‚åŒè½¯ä»¶å®‰è£…åŒ…ï¼ˆä¾‹å¦‚Officeå®‰è£…ç¨‹åºï¼‰ï¼Œå·²ç»åŒ…å«äº†æ‰€æœ‰å¿…è¦çš„æ–‡ä»¶ï¼Œä½†å°šæœªè¿è¡Œã€‚</li></ul><h4 id=12-docker-containerå®¹å™¨>1.2 Docker Containerï¼ˆå®¹å™¨ï¼‰</h4><ul><li><strong>å®šä¹‰</strong>ï¼šæ˜¯é•œåƒçš„ä¸€ä¸ªè¿è¡Œå®ä¾‹ã€‚å®¹å™¨è¿›ç¨‹è¿è¡Œäºéš”ç¦»çš„ç¯å¢ƒä¸­ï¼Œæ‹¥æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œå’Œè¿›ç¨‹ç©ºé—´ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<ul><li>åŸºäºé•œåƒåˆ›å»ºï¼Œåœ¨é•œåƒä¹‹ä¸Šæ·»åŠ ä¸€ä¸ªå¯å†™å±‚ï¼ˆå®¹å™¨å±‚ï¼‰ã€‚</li><li>å®¹å™¨å†…çš„ä¿®æ”¹æ˜¯ä¸´æ—¶çš„ï¼Œå½“å®¹å™¨åˆ é™¤åï¼Œè¿™äº›ä¿®æ”¹ä¹Ÿä¼šä¸¢å¤±ï¼ˆé™¤éä½¿ç”¨æ•°æ®å·ï¼‰ã€‚</li></ul></li><li><strong>ç±»æ¯”</strong>ï¼šå¦‚åŒè¿è¡Œä¸­çš„è½¯ä»¶ï¼ˆä¾‹å¦‚æ‰“å¼€çš„Wordç¨‹åºï¼‰ï¼Œæœ‰è¿è¡ŒçŠ¶æ€å’Œæ•°æ®ã€‚</li></ul><h4 id=13-image-ä¸-container-çš„å…³ç³»>1.3 Image ä¸ Container çš„å…³ç³»</h4><ul><li>ä¸€ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼Œè¿™äº›å®¹å™¨ç›¸äº’ç‹¬ç«‹ã€‚</li><li>å®¹å™¨æ˜¯é•œåƒçš„ä¸€æ¬¡è¿è¡Œï¼Œé•œåƒé™æ€å­˜å‚¨ï¼Œå®¹å™¨åŠ¨æ€è¿è¡Œã€‚</li></ul><h3 id=2-dockerfile>2. Dockerfile</h3><h4 id=21-ä½œç”¨>2.1 ä½œç”¨</h4><ul><li><p>ç”¨äºå®šä¹‰é•œåƒæ„å»ºè¿‡ç¨‹ï¼ŒåŒ…å«ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚ã€‚</p></li><li><p>é€šè¿‡Dockerfileå¯ä»¥è‡ªå®šä¹‰é•œåƒï¼ŒåŒ…æ‹¬åŸºç¡€é•œåƒé€‰æ‹©ã€æ–‡ä»¶å¤åˆ¶ã€ä¾èµ–å®‰è£…ã€ç¯å¢ƒå˜é‡è®¾ç½®ã€å¯åŠ¨å‘½ä»¤ç­‰ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> ä½œç”¨ï¼šæ„å»ºé•œåƒçš„è“å›¾/è¯´æ˜ä¹¦
</span></span><span class=line><span class=cl> åŒ…å«ï¼šç¯å¢ƒé…ç½®ã€ä¾èµ–å®‰è£…ã€ä»£ç å¤åˆ¶ã€å¯åŠ¨å‘½ä»¤
</span></span><span class=line><span class=cl> ç»“æœï¼šé€šè¿‡ docker build ç”Ÿæˆ Docker Image
</span></span></code></pre></div></li></ul><h4 id=22-å¸¸ç”¨æŒ‡ä»¤>2.2 å¸¸ç”¨æŒ‡ä»¤</h4><ul><li><code>FROM</code>ï¼šæŒ‡å®šåŸºç¡€é•œåƒã€‚</li><li><code>RUN</code>ï¼šæ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚å®‰è£…è½¯ä»¶ã€‚</li><li><code>COPY</code> æˆ– <code>ADD</code>ï¼šå¤åˆ¶æ–‡ä»¶åˆ°é•œåƒä¸­ã€‚</li><li><code>WORKDIR</code>ï¼šè®¾ç½®å·¥ä½œç›®å½•ã€‚</li><li><code>ENV</code>ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ã€‚</li><li><code>EXPOSE</code>ï¼šå£°æ˜å®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ã€‚</li><li><code>CMD</code> æˆ– <code>ENTRYPOINT</code>ï¼šæŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶è¿è¡Œçš„å‘½ä»¤ã€‚</li></ul><h4 id=23-ç¤ºä¾‹>2.3 ç¤ºä¾‹</h4><p>dockerfile</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>FROM python:3.9
</span></span><span class=line><span class=cl>WORKDIR /app
</span></span><span class=line><span class=cl>COPY requirements.txt .
</span></span><span class=line><span class=cl>RUN pip install -r requirements.txt
</span></span><span class=line><span class=cl>COPY . .
</span></span><span class=line><span class=cl>CMD [&#34;python&#34;, &#34;app.py&#34;]
</span></span></code></pre></div><h3 id=3-docker-compose>3. Docker Compose</h3><h4 id=31-ä½œç”¨>3.1 ä½œç”¨</h4><ul><li><p>ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨Dockeråº”ç”¨ç¨‹åºã€‚é€šè¿‡ä¸€ä¸ªYAMLæ–‡ä»¶é…ç½®åº”ç”¨çš„æœåŠ¡ã€ç½‘ç»œã€æ•°æ®å·ç­‰ã€‚</p></li><li><p>å¯ä»¥ä¸€é”®å¯åŠ¨ã€åœæ­¢ã€é‡å»ºæ•´ä¸ªåº”ç”¨ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> ä½œç”¨ï¼šå¤šå®¹å™¨åº”ç”¨ç¼–æ’å·¥å…·
</span></span><span class=line><span class=cl> åŠŸèƒ½ï¼šåè°ƒå¤šä¸ªç›¸å…³å®¹å™¨ååŒå·¥ä½œ
</span></span><span class=line><span class=cl> åœºæ™¯ï¼šWebåº”ç”¨ + æ•°æ®åº“ + ç¼“å­˜ç­‰å®Œæ•´é¡¹ç›®æ ˆ
</span></span></code></pre></div></li></ul><h4 id=32-æ¦‚å¿µ>3.2 æ¦‚å¿µ</h4><ul><li><strong>æœåŠ¡ï¼ˆServiceï¼‰</strong>ï¼šä¸€ä¸ªæœåŠ¡ä»£è¡¨ä¸€ä¸ªå®¹å™¨ï¼Œå¯¹åº”ä¸€ä¸ªé•œåƒã€‚</li><li><strong>é¡¹ç›®ï¼ˆProjectï¼‰</strong>ï¼šç”±ä¸€ç»„å…³è”çš„æœåŠ¡ç»„æˆï¼Œé€šå¸¸å¯¹åº”ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ï¼ˆä¾‹å¦‚å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ï¼‰ã€‚</li></ul><h4 id=33-ç¤ºä¾‹>3.3 ç¤ºä¾‹</h4><p>yaml</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>version: &#39;3&#39;
</span></span><span class=line><span class=cl>services:
</span></span><span class=line><span class=cl>  web:
</span></span><span class=line><span class=cl>    build: .
</span></span><span class=line><span class=cl>    ports:
</span></span><span class=line><span class=cl>      - &#34;8000:8000&#34;
</span></span><span class=line><span class=cl>  db:
</span></span><span class=line><span class=cl>    image: postgres:13
</span></span><span class=line><span class=cl>    environment:
</span></span><span class=line><span class=cl>      POSTGRES_DB: myapp
</span></span></code></pre></div><h3 id=4-å¸¸ç”¨å‘½ä»¤>4. å¸¸ç”¨å‘½ä»¤</h3><h4 id=41-é•œåƒç›¸å…³>4.1 é•œåƒç›¸å…³</h4><ul><li><code>docker build -t [image_name] .</code>ï¼šæ„å»ºé•œåƒã€‚</li><li><code>docker images</code>ï¼šåˆ—å‡ºæœ¬åœ°é•œåƒã€‚</li><li><code>docker rmi [image_id]</code>ï¼šåˆ é™¤é•œåƒã€‚</li></ul><h4 id=42-å®¹å™¨ç›¸å…³>4.2 å®¹å™¨ç›¸å…³</h4><ul><li><code>docker run [options] [image]</code>ï¼šåˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨ã€‚<ul><li>å¸¸ç”¨é€‰é¡¹ï¼š<code>-d</code>ï¼ˆåå°è¿è¡Œï¼‰ã€<code>-p</code>ï¼ˆç«¯å£æ˜ å°„ï¼‰ã€<code>-v</code>ï¼ˆæ•°æ®å·ï¼‰ã€<code>-e</code>ï¼ˆç¯å¢ƒå˜é‡ï¼‰ã€<code>--name</code>ï¼ˆå®¹å™¨å‘½åï¼‰ã€‚</li></ul></li><li><code>docker ps</code>ï¼šæŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨ã€‚</li><li><code>docker stop [container_id]</code>ï¼šåœæ­¢å®¹å™¨ã€‚</li><li><code>docker start [container_id]</code>ï¼šå¯åŠ¨å·²åœæ­¢çš„å®¹å™¨ã€‚</li><li><code>docker rm [container_id]</code>ï¼šåˆ é™¤å®¹å™¨ã€‚</li></ul><h4 id=43-compose-ç›¸å…³>4.3 Compose ç›¸å…³</h4><ul><li><code>docker-compose up -d</code>ï¼šå¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰ã€‚</li><li><code>docker-compose down</code>ï¼šåœæ­¢å¹¶åˆ é™¤æ‰€æœ‰æœåŠ¡ã€‚</li><li><code>docker-compose logs [service]</code>ï¼šæŸ¥çœ‹æœåŠ¡æ—¥å¿—ã€‚</li></ul><h3 id=5-å®è·µå»ºè®®>5. å®è·µå»ºè®®</h3><ol><li><strong>ä»ç®€å•é¡¹ç›®å¼€å§‹</strong>ï¼šä¾‹å¦‚å°†ä¸€ä¸ªé™æ€ç½‘ç«™æˆ–ç®€å•çš„Webåº”ç”¨å®¹å™¨åŒ–ã€‚</li><li><strong>é€æ­¥å¢åŠ å¤æ‚åº¦</strong>ï¼šå°è¯•å¤šæœåŠ¡åº”ç”¨ï¼Œæ¯”å¦‚å¸¦æ•°æ®åº“çš„Webåº”ç”¨ã€‚</li><li><strong>å­¦ä¹ ä¼˜åŒ–</strong>ï¼šä¾‹å¦‚ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºå‡å°é•œåƒå¤§å°ï¼Œåˆç†ä½¿ç”¨æ•°æ®å·æŒä¹…åŒ–æ•°æ®ã€‚</li></ol><h3 id=6-å¸¸è§é—®é¢˜æ’æŸ¥>6. å¸¸è§é—®é¢˜æ’æŸ¥</h3><ul><li>å®¹å™¨å¯åŠ¨å¤±è´¥ï¼šæŸ¥çœ‹æ—¥å¿— <code>docker logs [container_id]</code>ã€‚</li><li>è¿›å…¥å®¹å™¨è°ƒè¯•ï¼š<code>docker exec -it [container_id] bash</code>ã€‚</li><li>æ£€æŸ¥ç½‘ç»œï¼š<code>docker network ls</code>ï¼Œç¡®ä¿å®¹å™¨é—´ç½‘ç»œè¿é€šã€‚</li></ul><p>å¸Œæœ›è¿™ä»½ç¬”è®°èƒ½å¸®åŠ©æ‚¨å·©å›ºDockerçš„çŸ¥è¯†ï¼å®è·µå‡ºçœŸçŸ¥ï¼ŒåŠ¨æ‰‹æ“ä½œæ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼ã€‚</p><h4 id=3-dockerfile>3. <strong>Dockerfile</strong></h4><ul><li><strong>ä½œç”¨</strong>ï¼šæ„å»ºé•œåƒçš„è“å›¾/è¯´æ˜ä¹¦</li><li><strong>åŒ…å«</strong>ï¼šç¯å¢ƒé…ç½®ã€ä¾èµ–å®‰è£…ã€ä»£ç å¤åˆ¶ã€å¯åŠ¨å‘½ä»¤</li><li><strong>ç»“æœ</strong>ï¼šé€šè¿‡ <code>docker build</code> ç”Ÿæˆ Docker Image</li></ul><h3 id=ä»å¼€å‘åˆ°éƒ¨ç½²>ä»å¼€å‘åˆ°éƒ¨ç½²</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Dockerfile â†’ docker build â†’ Image â†’ docker run â†’ Container
</span></span></code></pre></div><h3 id=å¤šæœåŠ¡é¡¹ç›®>å¤šæœåŠ¡é¡¹ç›®</h3><p>text</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>å¤šä¸ªDockerfile â†’ å¤šä¸ªImage â†’ docker-compose up â†’ å¤šä¸ªååŒå·¥ä½œçš„Container
</span></span></code></pre></div><h2 id=ç†è§£è¦ç‚¹>ç†è§£è¦ç‚¹</h2><h3 id=image-ä¸-container-å…³ç³»>Image ä¸ Container å…³ç³»</h3><ul><li><p><strong>ä¸€ä¸ª Image</strong> å¯ä»¥åˆ›å»º <strong>å¤šä¸ª Container</strong></p></li><li><p>Image æ˜¯æ¨¡æ¿ï¼ŒContainer æ˜¯å®ä¾‹</p></li><li><p>Container = Image + å¯å†™å±‚ + è¿è¡Œæ—¶çŠ¶æ€</p><p>Docker çš„è®¾è®¡å“²å­¦å°±æ˜¯ï¼š</p><ul><li><strong>é•œåƒåŒ…å«ä¸€åˆ‡</strong>ï¼šåº”ç”¨ä»£ç ã€è¿è¡Œæ—¶ã€ä¾èµ–ã€é…ç½®</li><li><strong>å®¹å™¨å³è¿›ç¨‹</strong>ï¼šå¯åŠ¨å®¹å™¨å°±åƒå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹</li><li><strong>å£°æ˜å¼é…ç½®</strong>ï¼šæ‰€æœ‰è¿è¡Œæ—¶é…ç½®é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®š</li></ul><p><strong>ä» Image åˆ° Containerï¼Œåªéœ€è¦ <code>docker run</code> è¿™ä¸€ä¸ªå‘½ä»¤</strong></p></li></ul><h2 id=ç”¨ç®€å•çš„å®ä¾‹æ¥ç†è§£dockerå®¹å™¨åŒ–æ•´ä¸ªé¡¹ç›®è¿‡ç¨‹>ç”¨ç®€å•çš„å®ä¾‹æ¥ç†è§£Dockerå®¹å™¨åŒ–æ•´ä¸ªé¡¹ç›®è¿‡ç¨‹</h2><p>å‡è®¾æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ªç®€å•çš„Djangoé¡¹ç›®ï¼Œå¹¶ä½¿ç”¨Dockerè¿›è¡Œå®¹å™¨åŒ–ï¼ŒåŒæ—¶ä½¿ç”¨Docker Composeæ¥ç®¡ç†å¤šä¸ªæœåŠ¡ï¼ˆæ¯”å¦‚Djangoå’ŒPostgreSQLï¼‰ã€‚</p><h3 id=é¡¹ç›®ç»“æ„>é¡¹ç›®ç»“æ„</h3><p>å‡è®¾é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><p>text</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>my_django_app/
</span></span><span class=line><span class=cl>â”œâ”€â”€ Dockerfile
</span></span><span class=line><span class=cl>â”œâ”€â”€ docker-compose.yml
</span></span><span class=line><span class=cl>â”œâ”€â”€ requirements.txt
</span></span><span class=line><span class=cl>â””â”€â”€ project/
</span></span><span class=line><span class=cl>    â”œâ”€â”€ manage.py
</span></span><span class=line><span class=cl>    â””â”€â”€ ... (å…¶ä»–Djangoé¡¹ç›®æ–‡ä»¶)
</span></span></code></pre></div><h3 id=æ­¥éª¤>æ­¥éª¤</h3><h4 id=1-åˆ›å»ºdockerfile>1. åˆ›å»ºDockerfile</h4><p>Dockerfileç”¨äºæ„å»ºDjangoåº”ç”¨çš„é•œåƒã€‚</p><p>Dockerfile</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># ä½¿ç”¨å®˜æ–¹Pythonè¿è¡Œæ—¶ä½œä¸ºåŸºç¡€é•œåƒ
</span></span><span class=line><span class=cl>FROM python:3.9
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># è®¾ç½®å·¥ä½œç›®å½•
</span></span><span class=line><span class=cl>WORKDIR /app
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># å¤åˆ¶å½“å‰ç›®å½•ï¼ˆé¡¹ç›®ï¼‰å†…å®¹åˆ°å®¹å™¨çš„/appç›®å½•
</span></span><span class=line><span class=cl>COPY . /app
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># å®‰è£…æ‰€éœ€çš„åŒ…
</span></span><span class=line><span class=cl>RUN pip install -r requirements.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># æš´éœ²ç«¯å£8000ï¼Œä»¥ä¾¿å¤–éƒ¨è®¿é—®
</span></span><span class=line><span class=cl>EXPOSE 8000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># è¿è¡ŒDjangoå¼€å‘æœåŠ¡å™¨
</span></span><span class=line><span class=cl>CMD [&#34;python&#34;, &#34;manage.py&#34;, &#34;runserver&#34;, &#34;0.0.0.0:8000&#34;]
</span></span></code></pre></div><h4 id=2-åˆ›å»ºdocker-composeyml>2. åˆ›å»ºdocker-compose.yml</h4><p>docker-compose.ymlç”¨äºå®šä¹‰å’Œè¿è¡Œä¸¤ä¸ªæœåŠ¡ï¼šwebï¼ˆDjangoï¼‰å’Œdbï¼ˆPostgreSQLï¼‰ã€‚</p><p>yaml</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>version</span><span class=p>:</span> <span class=s1>&#39;3&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>services</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>db</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span><span class=p>:</span> <span class=n>postgres</span><span class=p>:</span><span class=mi>13</span>
</span></span><span class=line><span class=cl>    <span class=n>environment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=n>POSTGRES_DB</span><span class=p>:</span> <span class=n>myapp</span>
</span></span><span class=line><span class=cl>      <span class=n>POSTGRES_USER</span><span class=p>:</span> <span class=n>user</span>
</span></span><span class=line><span class=cl>      <span class=n>POSTGRES_PASSWORD</span><span class=p>:</span> <span class=n>password</span>
</span></span><span class=line><span class=cl>    <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>postgres_data</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>lib</span><span class=o>/</span><span class=n>postgresql</span><span class=o>/</span><span class=n>data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>web</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>build</span><span class=p>:</span> <span class=o>.</span>
</span></span><span class=line><span class=cl>    <span class=n>command</span><span class=p>:</span> <span class=n>python</span> <span class=n>manage</span><span class=o>.</span><span class=n>py</span> <span class=n>runserver</span> <span class=mf>0.0</span><span class=o>.</span><span class=mf>0.0</span><span class=p>:</span><span class=mi>8000</span>
</span></span><span class=line><span class=cl>    <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=o>.</span><span class=p>:</span><span class=o>/</span><span class=n>app</span>
</span></span><span class=line><span class=cl>    <span class=n>ports</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=s2>&#34;8000:8000&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>depends_on</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>db</span>
</span></span><span class=line><span class=cl>    <span class=n>environment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=n>DATABASE_URL</span><span class=p>:</span> <span class=n>postgres</span><span class=p>:</span><span class=o>//</span><span class=n>user</span><span class=p>:</span><span class=n>password</span><span class=err>@</span><span class=n>db</span><span class=p>:</span><span class=mi>5432</span><span class=o>/</span><span class=n>myapp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>postgres_data</span><span class=p>:</span>
</span></span></code></pre></div><h4 id=3-åˆ›å»ºrequirementstxt>3. åˆ›å»ºrequirements.txt</h4><p>ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•æœ‰requirements.txtæ–‡ä»¶ï¼ŒåŒ…å«Djangoå’Œpsycopg2ï¼ˆPostgreSQLé€‚é…å™¨ï¼‰ç­‰ä¾èµ–ã€‚</p><p>text</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Django&gt;=3.2
</span></span><span class=line><span class=cl>psycopg2-binary&gt;=2.9
</span></span></code></pre></div><h4 id=4-é…ç½®djangoé¡¹ç›®>4. é…ç½®Djangoé¡¹ç›®</h4><p>åœ¨Djangoé¡¹ç›®çš„settings.pyä¸­ï¼Œéœ€è¦é…ç½®æ•°æ®åº“è¿æ¥ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚</p><p>python</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>import os
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>DATABASES = {
</span></span><span class=line><span class=cl>    &#39;default&#39;: {
</span></span><span class=line><span class=cl>        &#39;ENGINE&#39;: &#39;django.db.backends.postgresql&#39;,
</span></span><span class=line><span class=cl>        &#39;NAME&#39;: os.environ.get(&#39;POSTGRES_DB&#39;, &#39;myapp&#39;),
</span></span><span class=line><span class=cl>        &#39;USER&#39;: os.environ.get(&#39;POSTGRES_USER&#39;, &#39;user&#39;),
</span></span><span class=line><span class=cl>        &#39;PASSWORD&#39;: os.environ.get(&#39;POSTGRES_PASSWORD&#39;, &#39;password&#39;),
</span></span><span class=line><span class=cl>        &#39;HOST&#39;: &#39;db&#39;,  # ä½¿ç”¨Composeä¸­å®šä¹‰çš„æœåŠ¡å
</span></span><span class=line><span class=cl>        &#39;PORT&#39;: 5432,
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h4 id=5-æ„å»ºå¹¶è¿è¡Œ>5. æ„å»ºå¹¶è¿è¡Œ</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆæœ‰docker-compose.ymlçš„ç›®å½•ï¼‰è¿è¡Œï¼š</p><p>bash</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker-compose up
</span></span></code></pre></div><p>è¿™å°†æ„å»ºwebæœåŠ¡çš„é•œåƒï¼ˆå¦‚æœè¿˜æ²¡æœ‰çš„è¯ï¼‰ï¼Œå¹¶å¯åŠ¨dbå’Œwebä¸¤ä¸ªå®¹å™¨ã€‚webå®¹å™¨å°†è¿è¡ŒDjangoå¼€å‘æœåŠ¡å™¨ï¼Œå¹¶ç›‘å¬8000ç«¯å£ã€‚</p><h4 id=6-æ‰§è¡Œæ•°æ®åº“è¿ç§»>6. æ‰§è¡Œæ•°æ®åº“è¿ç§»</h4><p>åœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼Œè¿è¡Œï¼š</p><p>bash</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker-compose exec web python manage.py migrate
</span></span></code></pre></div><h4 id=7-è®¿é—®åº”ç”¨>7. è®¿é—®åº”ç”¨</h4><p>æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:8000ï¼Œåº”è¯¥èƒ½çœ‹åˆ°Djangoæ¬¢è¿é¡µé¢ã€‚</p><h3 id=æ·±å…¥ç»†èŠ‚>æ·±å…¥ç»†èŠ‚</h3><h4 id=æ•°æ®æŒä¹…åŒ–>æ•°æ®æŒä¹…åŒ–</h4><p>åœ¨docker-compose.ymlä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå·<code>postgres_data</code>ï¼Œç”¨äºæŒä¹…åŒ–æ•°æ®åº“æ•°æ®ã€‚å³ä½¿å®¹å™¨è¢«åˆ é™¤ï¼Œæ•°æ®ä»ç„¶ä¿ç•™ã€‚</p><h4 id=å¼€å‘æ¨¡å¼>å¼€å‘æ¨¡å¼</h4><p>ä¸Šé¢çš„é…ç½®ä¸­ï¼Œæˆ‘ä»¬å°†ä¸»æœºä¸Šçš„é¡¹ç›®ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„/appç›®å½•ï¼Œè¿™æ ·åœ¨ä¸»æœºä¸Šä¿®æ”¹ä»£ç æ—¶ï¼Œå®¹å™¨å†…çš„ä»£ç ä¹Ÿä¼šå®æ—¶æ›´æ–°ï¼Œä¾¿äºå¼€å‘ã€‚</p><h4 id=ç”Ÿäº§ç¯å¢ƒ>ç”Ÿäº§ç¯å¢ƒ</h4><p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´ä¸€äº›é…ç½®ï¼Œæ¯”å¦‚ï¼š</p><ul><li>ä½¿ç”¨ç”Ÿäº§çº§çš„WebæœåŠ¡å™¨ï¼ˆå¦‚Gunicornï¼‰ä»£æ›¿Djangoå¼€å‘æœåŠ¡å™¨ã€‚</li><li>è®¾ç½®é™æ€æ–‡ä»¶æœåŠ¡ã€‚</li><li>ä½¿ç”¨ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆ.envï¼‰æ¥ç®¡ç†æ•æ„Ÿä¿¡æ¯ã€‚</li></ul><p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œå®è·µäº†ï¼š</p><ul><li>ä½¿ç”¨Dockerfileæ„å»ºé•œåƒ</li><li>ä½¿ç”¨Docker Composeç¼–æ’å¤šæœåŠ¡å®¹å™¨</li><li>é…ç½®Djangoä¸PostgreSQLæ•°æ®åº“è¿æ¥</li><li>ä½¿ç”¨æ•°æ®å·æŒä¹…åŒ–æ•°æ®</li></ul><p>è¿™åªæ˜¯ä¸€ä¸ªèµ·ç‚¹ï¼Œå®é™…é¡¹ç›®ä¸­è¿˜ä¼šæœ‰æ›´å¤šç»†èŠ‚éœ€è¦å¤„ç†ï¼Œä½†åŸºæœ¬æµç¨‹å¦‚æ­¤ï¼Œå¯ä»¥å¸®åŠ©å¯¹Dockerçš„ç†è§£ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>åè¾¹çš„é¡¹ç›®ç»†èŠ‚æ¥è‡ªå’Œdeepseekçš„å¯¹è¯
</span></span></code></pre></div><h2 id=å›½å†…å¯ç”¨-dockeré•œåƒæºregistry-mirrors>å›½å†…å¯ç”¨ Dockeré•œåƒæºï¼ˆregistry-mirrorsï¼‰</h2><p>&ldquo;registry-mirrors&rdquo;: [
&ldquo;https://tkcnyb3h.mirror.aliyuncs.com&rdquo;,
&ldquo;https://registry.docker-cn.com&rdquo;,
&ldquo;https://docker.mirrors.ustc.edu.cn&rdquo;,
&ldquo;https://hub-mirror.c.163.com&rdquo;,
&ldquo;https://mirror.baidubce.com&rdquo;,
&ldquo;https://ccr.ccs.tencentyun.com&rdquo;ï¼Œ
&ldquo;https://docker.m.daocloud.io&rdquo;,
&ldquo;https://docker.udayun.com&rdquo;,
&ldquo;https://noohub.ru&rdquo;,
&ldquo;https://huecker.io&rdquo;,
&ldquo;https://dockerhub.timeweb.cloud&rdquo;
]</p><p>å¦‚æœä½¿ç”¨ docker pullå‘½ä»¤æ—¶æ— æ³•æ­£å¸¸æ‹‰å–docker imageï¼Œå¯ä»¥è¯•ç€æ›´æ¢å›½å†…å¯ç”¨çš„dockeré•œåƒæºã€‚</p></div></article></div><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightElement(e);const t=document.createElement("button");t.className="copy-code",t.textContent="Copy",t.addEventListener("click",()=>{navigator.clipboard.writeText(e.textContent).then(()=>{t.textContent="Copied!",t.classList.add("copied"),setTimeout(()=>{t.textContent="Copy",t.classList.remove("copied")},2e3)})}),e.parentElement.prepend(t)});const o=document.querySelectorAll(".article-content h2[id], .article-content h3[id]"),i=document.querySelectorAll('.toc a[href^="#"]'),a=document.querySelector(".top-nav").offsetHeight,n=document.querySelector(".toc-container"),e=[];o.forEach(t=>{e.push({id:t.id,top:t.offsetTop-a-20})});function s(){const s=window.scrollY;let t="";for(let n=e.length-1;n>=0;n--)if(e[n].top<=s+50){t=e[n].id;break}i.forEach(e=>{const s=e.getAttribute("href")===`#${t}`;if(e.classList.toggle("active",s),s){const t=e.offsetTop-n.clientHeight/2;n.scrollTop=t}})}let t=!1;window.addEventListener("scroll",()=>{t||(window.requestAnimationFrame(()=>{s(),t=!1}),t=!0)}),s()})</script></body></html>